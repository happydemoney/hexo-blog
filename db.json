{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"themes/landscape/source/css/style.styl","path":"css/style.styl","modified":1,"renderable":1},{"_id":"themes/landscape/source/js/script.js","path":"js/script.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/blank.gif","path":"fancybox/blank.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","path":"fancybox/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","path":"fancybox/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","path":"fancybox/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","path":"fancybox/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","path":"fancybox/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","path":"fancybox/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","path":"fancybox/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","path":"fancybox/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","path":"css/fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","path":"css/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","path":"css/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","path":"css/fonts/fontawesome-webfont.svg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","path":"css/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/banner.jpg","path":"css/images/banner.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","path":"fancybox/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","path":"fancybox/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","path":"fancybox/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","path":"fancybox/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","path":"fancybox/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","path":"fancybox/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1}],"Cache":[{"_id":"source/_posts/algorithms-test.md","hash":"09947b5ad7e423862b094534aa8298f44ae15348","modified":1663125144021},{"_id":"source/_posts/hello-world.md","hash":"4d8bac2db9e7f8111348cf17fee04304ea690194","modified":1663125144026},{"_id":"source/_posts/webpack-package.md","hash":"d8899a81995980371e3dde18f9209d721433ddb8","modified":1663125144046},{"_id":"source/_posts/reduce.md","hash":"28aa7350e1a231e249cd2224135bbfb6874b72ff","modified":1663125144032},{"_id":"source/_posts/website-skin-project.md","hash":"d426063c60922bbfa3f7f61ea49063a5178516d7","modified":1663125419056},{"_id":"themes/landscape/.npmignore","hash":"ea2b285a29690f1eabbad0f3a158e34e9ccd1d86","modified":1663125144066},{"_id":"themes/landscape/README.md","hash":"67fedfb66304f103c412f6be110bf3c40c75d4ac","modified":1663125144082},{"_id":"themes/landscape/Gruntfile.js","hash":"412e30530784993c8997aa8b1319c669b83b91c2","modified":1663125144072},{"_id":"themes/landscape/LICENSE","hash":"82ce1e15ddeabeaaca60e2186b5a3ce42b1a9c49","modified":1663125144077},{"_id":"themes/landscape/_config.yml","hash":"ce9d2939245209b8f5c5bbbdadc917d86057d032","modified":1663125144087},{"_id":"themes/landscape/package.json","hash":"6e567a9654e61eb3f548c75edef380c2e135c433","modified":1663125144321},{"_id":"themes/landscape/languages/default.yml","hash":"f26a34a7983d4bc17c65c7f0f14da598e62ce66d","modified":1663125144101},{"_id":"themes/landscape/languages/de.yml","hash":"d45cea36c5c83d7d09afcd1c26fff4a4c513c25b","modified":1663125144095},{"_id":"themes/landscape/languages/fr.yml","hash":"8cb0fe4b6913b4d5b662cdd0108a923c90025f85","modified":1663125144112},{"_id":"themes/landscape/languages/es.yml","hash":"e3b4937da4cd2d0393b8a0ba310e70fc605cc431","modified":1663125144106},{"_id":"themes/landscape/languages/ja.yml","hash":"3e2fedca096678c0c234ebffa4637828979296fa","modified":1663125144117},{"_id":"themes/landscape/languages/ko.yml","hash":"11330316e3c1262474a2b496e40dbc29f93fe01b","modified":1663125144122},{"_id":"themes/landscape/languages/nl.yml","hash":"3d82ec703d0b3287739d7cb4750a715ae83bfcb3","modified":1663125144127},{"_id":"themes/landscape/languages/no.yml","hash":"ddf2035e920a5ecb9076138c184257d9f51896a7","modified":1663125144132},{"_id":"themes/landscape/languages/pt.yml","hash":"ae2c61b30e638f74f1a42c9ce39ac08d063b30f5","modified":1663125144137},{"_id":"themes/landscape/languages/ru.yml","hash":"2a476b4c6e04900914c81378941640ac5d58a1f0","modified":1663125144142},{"_id":"themes/landscape/languages/zh-CN.yml","hash":"b057f389c6713010f97d461e48ec959b0b6f3b44","modified":1663125144147},{"_id":"themes/landscape/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1663125144286},{"_id":"themes/landscape/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1663125144291},{"_id":"themes/landscape/languages/zh-TW.yml","hash":"f5f0ca88185da7a8457760d84bf221781473bd7c","modified":1663125144152},{"_id":"themes/landscape/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1663125144296},{"_id":"themes/landscape/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1663125144311},{"_id":"themes/landscape/layout/layout.ejs","hash":"5d86bc48b0f1bdce9a2bb548c2f8e7a4f50d499a","modified":1663125144301},{"_id":"themes/landscape/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1663125144306},{"_id":"themes/landscape/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1663125144316},{"_id":"themes/landscape/scripts/fancybox.js","hash":"4c130fc242cf9b59b5df6ca5eae3b14302311e8c","modified":1663125144328},{"_id":"themes/landscape/layout/_partial/archive-post.ejs","hash":"5062c723721d8497eebad372f57092ade45041f4","modified":1663125144169},{"_id":"themes/landscape/layout/_partial/after-footer.ejs","hash":"5e3b70c028d518b8f765e29a5e2020e7ba6ed589","modified":1663125144164},{"_id":"themes/landscape/layout/_partial/archive.ejs","hash":"017c412bd3d60d22e493f02918e436a32d96bb84","modified":1663125144174},{"_id":"themes/landscape/layout/_partial/article.ejs","hash":"5cf2b8a1148e6f8c4bd9ca9e3b84c7e5a59d56bc","modified":1663125144179},{"_id":"themes/landscape/layout/_partial/footer.ejs","hash":"6faefe07f3d64e21c7743276e0f55ee1544f9d86","modified":1663125144193},{"_id":"themes/landscape/layout/_partial/gauges-analytics.ejs","hash":"ace3000bd3e01d03041d5be24f7640b6c003a5b5","modified":1663125144197},{"_id":"themes/landscape/layout/_partial/google-analytics.ejs","hash":"1ccc627d7697e68fddc367c73ac09920457e5b35","modified":1663125144203},{"_id":"themes/landscape/layout/_partial/head.ejs","hash":"a36cec48782782bac92622f369c750e5c7396510","modified":1663125144208},{"_id":"themes/landscape/layout/_partial/header.ejs","hash":"cf755454675d13a0813a922b575c06b6b74ab9fd","modified":1663125144213},{"_id":"themes/landscape/layout/_widget/archive.ejs","hash":"0fe1e52c291c9499bd05b966e0b9aac5be351c58","modified":1663125144262},{"_id":"themes/landscape/layout/_partial/mobile-nav.ejs","hash":"347cf1befd2ea637c24bd5901929d8e36e359e75","modified":1663125144217},{"_id":"themes/landscape/layout/_widget/category.ejs","hash":"866790acc13fed44b7ef74c3e19c300a3d6180d8","modified":1663125144267},{"_id":"themes/landscape/layout/_partial/sidebar.ejs","hash":"c70869569749a8f48cce202fa57926c06b55fdab","modified":1663125144254},{"_id":"themes/landscape/layout/_widget/tag.ejs","hash":"6017c54a8c3c8ff8db491cfbea3100c139da75d6","modified":1663125144277},{"_id":"themes/landscape/source/css/_extend.styl","hash":"8ab1ad313bd6707d248c5ca1ee9a5eab8d815e42","modified":1663125144340},{"_id":"themes/landscape/layout/_widget/recent_posts.ejs","hash":"16800f85ffb036d2644a26e02facd61acb3706e9","modified":1663125144272},{"_id":"themes/landscape/layout/_widget/tagcloud.ejs","hash":"7259c179aa0c41c02e467ad892292e90430aaabc","modified":1663125144282},{"_id":"themes/landscape/source/css/_variables.styl","hash":"57bb02270eef16b4823a64ba663ccf2f247f34e5","modified":1663125144422},{"_id":"themes/landscape/source/css/style.styl","hash":"4a3e64ee8dad5834860c30b4176882eff628ca6b","modified":1663125144482},{"_id":"themes/landscape/source/js/script.js","hash":"c0d368681c687258b628bacc84cc30d353de6d47","modified":1663125144581},{"_id":"themes/landscape/source/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1663125144490},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1663125144496},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1663125144507},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1663125144512},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1663125144500},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","hash":"2e54d51d21e68ebc4bb870f6e57d3bfb660d4f9c","modified":1663125144560},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","hash":"58193c802f307ec9bc9e586c0e8a13ebef45d2f8","modified":1663125144566},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","hash":"2da892a02778236b64076e5e8802ef0566e1d9e8","modified":1663125144572},{"_id":"themes/landscape/layout/_partial/post/category.ejs","hash":"16128d2422645e18d1b6882d4c4df17d895bd76e","modified":1663125144225},{"_id":"themes/landscape/layout/_partial/post/date.ejs","hash":"947f513f7a85fbcf085624e46dc2ae6de8185eec","modified":1663125144230},{"_id":"themes/landscape/layout/_partial/post/gallery.ejs","hash":"b0bf3f5d923c261ca2b5fabab513f1ec2708c8ca","modified":1663125144235},{"_id":"themes/landscape/layout/_partial/post/nav.ejs","hash":"cbb3819ce512bd24db8bad41b8617d46eba82fdc","modified":1663125144240},{"_id":"themes/landscape/layout/_partial/post/tag.ejs","hash":"694b5101bcc44c9f9c1cc62e5ad2fdfb4b7c7a07","modified":1663125144244},{"_id":"themes/landscape/layout/_partial/post/title.ejs","hash":"d4a460a35e2112d0c7414fd5e19b3a16093f1caf","modified":1663125144249},{"_id":"themes/landscape/source/css/_partial/archive.styl","hash":"9e574d8eb1a5285ec3b4346607414770d2f7e0ff","modified":1663125144347},{"_id":"themes/landscape/source/css/_partial/article.styl","hash":"e291bc8c5f0c21080baa549d5d9ef2f39a871ea7","modified":1663125144353},{"_id":"themes/landscape/source/css/_partial/comment.styl","hash":"2834870661e490775f9154d71638bfdc72e640a6","modified":1663125144358},{"_id":"themes/landscape/source/css/_partial/footer.styl","hash":"6f7aa810f296d6a1a4486637b5a853d35a198938","modified":1663125144372},{"_id":"themes/landscape/source/css/_partial/header.styl","hash":"67e59feb18eee6026717cb440d86ab9551782628","modified":1663125144376},{"_id":"themes/landscape/source/css/_partial/highlight.styl","hash":"ac19f1621305ca9f6a7b74acd211a4c0d88690bd","modified":1663125144381},{"_id":"themes/landscape/source/css/_partial/mobile.styl","hash":"680c7b809b62cd3ad294e822793fbd0b1a32cc33","modified":1663125144386},{"_id":"themes/landscape/source/css/_partial/sidebar-aside.styl","hash":"1fb15f13ba70d5b954f62920c6b63d26e2fb2985","modified":1663125144391},{"_id":"themes/landscape/source/css/_partial/sidebar-bottom.styl","hash":"4132e25ba9680c4b911a01abc75f501cda3fa4f1","modified":1663125144396},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1663125144517},{"_id":"themes/landscape/source/css/_partial/sidebar.styl","hash":"8d971a00e644a600179b04815688d188f094012e","modified":1663125144401},{"_id":"themes/landscape/source/css/_util/grid.styl","hash":"1aa883ab432d9e4139c89dcbd40ae2bd1528d029","modified":1663125144409},{"_id":"themes/landscape/source/css/_util/mixin.styl","hash":"429bad87fc156eacf226c5e35b0eafc277f2504b","modified":1663125144416},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1663125144439},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1663125144445},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1663125144465},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1663125144525},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","hash":"6394c48092085788a8c0ef72670b0652006231a1","modified":1663125144531},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","hash":"4c9c395d705d22af7da06870d18f434e2a2eeaf9","modified":1663125144537},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","hash":"e14c32cc6823b81b2f758512f13ed8eb9ef2b454","modified":1663125144543},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"83cdfea43632b613771691a11f56f99d85fb6dbd","modified":1663125144555},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"b88b589f5f1aa1b3d87cc7eef34c281ff749b1ae","modified":1663125144548},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1663125144460},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","hash":"a275426daefd3716c53561fad121d258a7f05b47","modified":1663125144452},{"_id":"themes/landscape/source/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1663125144477},{"_id":"public/2022/09/14/reduce/index.html","hash":"8cf85669ae190e1e883398501bc7a5e45de99496","modified":1663125479300},{"_id":"public/2022/09/14/hello-world/index.html","hash":"a5462e7b566d48d352cd040fb8ef4a8be0e60d22","modified":1663125479300},{"_id":"public/archives/index.html","hash":"02c8c8fd646cff9e21076a355181e6e2b23e92bf","modified":1663125479300},{"_id":"public/archives/2022/index.html","hash":"4b3c04e0fbd51fa010627814d60c165ceb997cff","modified":1663125479300},{"_id":"public/archives/2022/09/index.html","hash":"205479746a4b9bfb32d5e92f5af04cce56b53ace","modified":1663125479300},{"_id":"public/2022/09/14/website-skin-project/index.html","hash":"14e87ff4aca90b29d8b86923815b064358270a7f","modified":1663125479300},{"_id":"public/2022/09/14/webpack-package/index.html","hash":"59f910c163fd0b2fd848f12a0bd145291d10de3d","modified":1663125479300},{"_id":"public/2022/09/14/algorithms-test/index.html","hash":"5dbdba8ea742b2507315dc5183694ff6729f9c1d","modified":1663125479300},{"_id":"public/index.html","hash":"ce6e198ebc5a89b9664fa8f3c6907d779a05634a","modified":1663125479300},{"_id":"public/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1663125479300},{"_id":"public/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1663125479300},{"_id":"public/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1663125479300},{"_id":"public/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1663125479300},{"_id":"public/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1663125479300},{"_id":"public/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1663125479300},{"_id":"public/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1663125479300},{"_id":"public/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1663125479300},{"_id":"public/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1663125479300},{"_id":"public/js/script.js","hash":"2876e0b19ce557fca38d7c6f49ca55922ab666a1","modified":1663125479300},{"_id":"public/fancybox/jquery.fancybox.css","hash":"aaa582fb9eb4b7092dc69fcb2d5b1c20cca58ab6","modified":1663125479300},{"_id":"public/css/style.css","hash":"3986ef4b1f56bf0ac3bc45aab261e0278794c3f1","modified":1663125479300},{"_id":"public/fancybox/jquery.fancybox.js","hash":"d08b03a42d5c4ba456ef8ba33116fdbb7a9cabed","modified":1663125479300},{"_id":"public/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1663125479300},{"_id":"public/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1663125479300},{"_id":"public/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1663125479300},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1663125479300},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1663125479300},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1663125479300},{"_id":"public/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1663125479300},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1663125479300},{"_id":"public/css/fonts/fontawesome-webfont.svg","hash":"a275426daefd3716c53561fad121d258a7f05b47","modified":1663125479300},{"_id":"public/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1663125479300}],"Category":[],"Data":[],"Page":[],"Post":[{"title":"【算法】深入掌握算法系列","_content":"\n[JavaScript-Algorithms](https://github.com/sisterAn/JavaScript-Algorithms) - 题源地址\n[labuladong的算法小抄](https://labuladong.gitee.io/algo/) - 好的算法学习资料\n\n## 前言\n\n作为业务开发，虽然在平常开发中很少写算法，但当我们需要深入框架、开发语言、开源库时，懂算法将大大提高我们看源码的能力。例如 ：\n\n- virtual-dom diff 算法做了一些约定，后将原先 O(n3) 的时间复杂度降到了O(n) ，核心原理就是一个树的深度优先搜索\n- babel 这些就是一些编译原理的 parser 生成抽象语法树的知识，再将抽象语法树进行转换操作生成文件\n- 浏览器的 history，底层可以使用栈来实现\n- webpack 中利用 tree-shaking 优化\n- v8 中的调用栈、消息队列等等\n\n这些就大量使用了算法，看懂了就能更好的了解它们的性能，更高效的解决问题，提升我们的代码质量与思维视野，进阶到更高 Level，赚更多钱💰💰💰。\n\n## 计划\n\n给自己定个小目标，把下面深入掌握算法的小题全过一遍，每天最少一题；\n目前先附上源地址，后续自己做好后更新题目后的链接地址，并标记清除，比如 ✅图解leetcode88：合并两个有序数组\n\n## 深入掌握算法\n\n分为四个模块：数据结构、算法、设计、基础架构等\n\n###  数据结构\n\n#### 数组篇\n\n- [✅图解leetcode88：合并两个有序数组](https://leetcode-cn.com/problems/merge-sorted-array/solution/tou-ge-lan-shi-yong-yuan-sheng-api-by-ha-qpg5/)\n- [✅字节&leetcode1：两数之和](https://leetcode-cn.com/problems/two-sum/solution/xiao-nan-gua-kong-jian-huan-shi-jian-by-9kjta/)\n- [✅腾讯&leetcode15：三数之和](https://leetcode-cn.com/problems/3sum/solution/xiao-nan-gua-pai-xu-shuang-zhi-zhen-by-h-i03k/)\n- [字节：N数之和](https://github.com/sisterAn/JavaScript-Algorithms/issues/128)\n- [腾讯：数组扁平化、去重、排序 ](https://github.com/sisterAn/JavaScript-Algorithms/issues/5)\n- [✅leetcode349：给定两个数组，编写一个函数来计算它们的交集](https://leetcode-cn.com/problems/intersection-of-two-arrays/solution/xiao-nan-gua-pai-xu-jia-shuang-zhi-zhen-tbapt/)\n- [✅华为&leetcode146：设计和实现一个LRU（最近最少使用）缓存机制](https://leetcode-cn.com/problems/lru-cache/solution/xiao-nan-gua-shuang-xiang-lian-biao-ji-m-q7rt/)\n- [阿里算法题：编写一个函数计算多个数组的交集](https://github.com/sisterAn/JavaScript-Algorithms/issues/10)\n- [✅leetcode352: 将数据流变为多个不相交区间](https://leetcode-cn.com/problems/data-stream-as-disjoint-intervals/solution/xiao-nan-gua-he-li-li-yong-zhan-by-happy-rsd8/)\n\n#### 链表\n- [✅leetcode21：合并两个有序链表](https://leetcode-cn.com/problems/merge-two-sorted-lists/solution/xiao-nan-gua-die-dai-by-happydemoney-c19o/)\n- [✅有赞&leetcode141：判断一个单链表是否有环](https://leetcode-cn.com/problems/linked-list-cycle/solution/xiao-nan-gua-kuai-man-zhi-zhen-by-happyd-hnyl/)\n- [✅图解leetcode206：反转链表](https://leetcode-cn.com/problems/reverse-linked-list/solution/xiao-nan-gua-xian-jin-hou-chu-zhan-by-ha-m56f/)\n- [✅leetcode876：求链表的中间结点](https://leetcode-cn.com/problems/middle-of-the-linked-list/solution/xiao-nan-gua-bian-li-lian-biao-ji-suan-c-nfvg/)\n- [✅leetcode19：删除链表倒数第 n 个结点](https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/solution/xiao-nan-gua-jian-dan-de-die-dai-by-happ-8mo6/)\n- [✅图解字节&leetcode160：编写一个程序，找到两个单链表相交的起始节点](https://leetcode-cn.com/problems/intersection-of-two-linked-lists/solution/xiao-nan-gua-shuang-zhi-zhen-by-happydem-4gsx/)\n- [✅腾讯&leetcode611：有效三角形的个数](https://leetcode-cn.com/problems/valid-triangle-number/solution/xiao-nan-gua-pai-xu-er-fen-by-happydemon-vrkq/)\n- [快手算法：链表求和](https://github.com/sisterAn/JavaScript-Algorithms/issues/114)\n- [leetcode42：接雨水问题](https://github.com/sisterAn/JavaScript-Algorithms/issues/122)\n\n#### 字符串\n- [✅字节&leetcode151：翻转字符串里的单词](https://leetcode-cn.com/problems/reverse-words-in-a-string/solution/xiao-yuan-sheng-apiyi-tao-lu-by-happydem-5yiv/)\n- [✅图解拼多多&leetcode14：最长公共前缀（LCP）](https://leetcode-cn.com/problems/longest-common-prefix/solution/xiao-zhan-jia-lin-shi-bian-liang-by-happ-jr44/)\n- [百度：实现一个函数，判断输入是不是回文字符串](https://github.com/sisterAn/JavaScript-Algorithms/issues/20)\n- [✅字节&Leetcode3：无重复字符的最长子串](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/solution/xiao-dui-lie-by-happydemoney-k6uq/)\n- [✅Facebook&字节&leetcode415: 字符串相加](https://leetcode-cn.com/problems/add-strings/solution/xiao-shuang-zhi-zhen-die-dai-wei-bu-by-h-fi94/)\n- [✅腾讯&leetcode43：字符串相乘](https://leetcode-cn.com/problems/multiply-strings/solution/zi-fu-chuan-xiang-cheng-by-leetcode-solution/)\n- [✅腾讯&剑指 Offer 67. 把字符串转换成整数](https://leetcode-cn.com/problems/string-to-integer-atoi/solution/)\n\n#### 栈\n- [✅字节&leetcode155：最小栈（包含getMin函数的栈）](https://leetcode-cn.com/problems/min-stack/solution/xiao-nan-gua-zui-xiao-zhan-by-happydemon-4bbb/)\n- [✅图解腾讯&哔哩哔哩&leetcode20：有效的括号](https://leetcode-cn.com/problems/valid-parentheses/solution/xiao-nan-gua-zuo-jin-you-chu-by-happydem-kq7g/)\n- [✅leetcode1047：删除字符串中的所有相邻重复项](https://leetcode-cn.com/problems/remove-all-adjacent-duplicates-in-string/solution/xiao-nan-gua-yong-zhan-jian-dan-chu-li-b-foi7/)\n- [leetcode1209：删除字符串中的所有相邻重复项 II](https://github.com/sisterAn/JavaScript-Algorithms/issues/27)\n- [面试真题：删除字符串中出现次数 >= 2 次的相邻字符](https://github.com/sisterAn/JavaScript-Algorithms/issues/28)\n\n#### 队列\n- [✅腾讯&剑指offer09：用两个栈实现队列](https://leetcode-cn.com/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/solution/xiao-nan-gua-zhu-zhan-fu-zhu-zhan-by-hap-tdmu/)\n- [✅leetcode239：滑动窗口最大值问题](https://leetcode-cn.com/problems/sliding-window-maximum/solution/hua-dong-chuang-kou-zui-da-zhi-by-leetco-ki6m/)\n- [✅字节&leetcode151：翻转字符串里的单词](https://leetcode-cn.com/problems/reverse-words-in-a-string/solution/xiao-yuan-sheng-apiyi-tao-lu-by-happydem-5yiv/)\n- [✅字节&Leetcode3：无重复字符的最长子串](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/solution/xiao-dui-lie-by-happydemoney-k6uq/)\n\n#### 哈希表\n- [✅leetcode349：给定两个数组，编写一个函数来计算它们的交集](https://leetcode-cn.com/problems/intersection-of-two-arrays/solution/xiao-nan-gua-pai-xu-jia-shuang-zhi-zhen-tbapt/)\n- [✅字节&leetcode1：两数之和](https://leetcode-cn.com/problems/two-sum/solution/xiao-nan-gua-kong-jian-huan-shi-jian-by-9kjta/)\n- [✅腾讯&leetcode15：三数之和](https://leetcode-cn.com/problems/3sum/solution/xiao-nan-gua-pai-xu-shuang-zhi-zhen-by-h-i03k/)\n- [✅leetcode380：常数时间插入、删除和获取随机元素](https://leetcode-cn.com/problems/insert-delete-getrandom-o1/solution/chang-shu-shi-jian-cha-ru-shan-chu-he-huo-qu-sui-j/)\n- [✅剑指Offer50：第一个只出现一次的字符](https://leetcode-cn.com/problems/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof/solution/xiao-nan-gua-ha-xi-biao-by-happydemoney-h6z6/)\n\n#### 二叉树\n\n##### 二叉树的遍历\n- [✅字节&leetcode144：二叉树的前序遍历](https://leetcode-cn.com/problems/binary-tree-preorder-traversal/solution/xiao-nan-gua-di-gui-jie-jue-qian-zhong-h-lwxw/)\n- [✅字节&leetcode94：二叉树的中序遍历](https://leetcode-cn.com/problems/binary-tree-preorder-traversal/solution/xiao-nan-gua-di-gui-jie-jue-qian-zhong-h-lwxw/)\n- [✅字节&leetcode145：二叉树的后序遍历](https://leetcode-cn.com/problems/binary-tree-preorder-traversal/solution/xiao-nan-gua-di-gui-jie-jue-qian-zhong-h-lwxw/)\n- [✅leetcode102：二叉树的层序遍历](https://leetcode-cn.com/problems/binary-tree-level-order-traversal/solution/xiao-nan-gua-bfs-by-happydemoney-kgdd/)\n- [✅l字节&leetcode107：二叉树的层次遍历](https://leetcode-cn.com/problems/binary-tree-level-order-traversal-ii/solution/xiao-nan-gua-bfszhan-by-happydemoney-e7tg/)\n\n##### 重构二叉树\n- [✅leetcode105：从前序与中序遍历序列构造二叉树](https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/solution/xiao-nan-gua-di-gui-by-happydemoney-7jkz/)\n\n##### 二叉树进阶\n- [✅l腾讯&leetcode104：二叉树的最大深度](https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/solution/xiao-nan-gua-bfs-by-happydemoney-xlgv/)\n- [✅字节&腾讯leetcode236：二叉树的最近公共祖先](https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/solution/xiao-nan-gua-hou-xu-bian-li-by-happydemo-xa1z/)\n- [✅剑指Offer&leetcode110：平衡二叉树](https://leetcode-cn.com/problems/balanced-binary-tree/solution/xiao-nan-gua-hou-xu-bian-li-by-happydemo-y9aj/)\n- [✅字节&leetcode112：路径总和](https://leetcode-cn.com/problems/path-sum/solution/xiao-nan-gua-qian-xu-bian-li-by-happydem-6brs/)\n- [✅剑指Offer&leetcode101：对称二叉树](https://leetcode-cn.com/problems/symmetric-tree/solution/xiao-nan-gua-di-gui-by-happydemoney-45at/)\n- [字节一面：给定一个二叉树, 找到该树中两个指定节点间的最短距离](https://github.com/sisterAn/JavaScript-Algorithms/issues/82)\n- [✅腾讯&leetcode230：二叉搜索树中第K小的元素](https://leetcode-cn.com/problems/kth-smallest-element-in-a-bst/solution/xiao-nan-gua-dfs-by-happydemoney-x8t7/)\n- [二叉树的左右子树交换](https://github.com/sisterAn/JavaScript-Algorithms/issues/141)\n\n#### 堆\n- [腾讯&字节等：最小的k个数](https://github.com/sisterAn/JavaScript-Algorithms/issues/59)\n- [leetcode347：前 K 个高频元素](https://github.com/sisterAn/JavaScript-Algorithms/issues/61)\n- [字节&leetcode215：数组中的第K个最大元素](https://github.com/sisterAn/JavaScript-Algorithms/issues/62)\n- [剑指Offer&leetcode295：数据流的中位数](https://github.com/sisterAn/JavaScript-Algorithms/issues/63)\n\n#### 图\n- [leetcode997：找到小镇的法官](https://github.com/sisterAn/JavaScript-Algorithms/issues/65)\n- [leetcode207：课程表问题](https://github.com/sisterAn/JavaScript-Algorithms/issues/66)\n- [剑指Offer&Bigo：旋转矩阵](https://github.com/sisterAn/JavaScript-Algorithms/issues/57)\n- [腾讯&leetcode：螺旋矩阵 II](https://github.com/sisterAn/JavaScript-Algorithms/issues/134)\n\n###  算法技巧\n\n#### 排序算法\n- [腾讯&字节：介绍一下快排原理以及时间复杂度，并实现一个快排](https://github.com/sisterAn/JavaScript-Algorithms/issues/70)\n- [字节&阿里&网易&leetcode384：打乱数组（洗牌算法）](https://github.com/sisterAn/JavaScript-Algorithms/issues/74)\n- [阿里五面：说下希尔排序的过程？ 希尔排序的时间复杂度和空间复杂度又是多少？](https://github.com/sisterAn/JavaScript-Algorithms/issues/75)\n- [腾讯&leetcode148：排序链表](https://github.com/sisterAn/JavaScript-Algorithms/issues/79)\n- [字节算法题：扑克牌问题（反向推导题）](https://github.com/sisterAn/JavaScript-Algorithms/issues/80)\n- [腾讯&leetcode611：有效三角形的个数](https://github.com/sisterAn/JavaScript-Algorithms/issues/93)\n\n#### 查找算法\n- [✅腾讯：简述二分查找算法与时间复杂度，并实现一个二分查找算法](https://leetcode-cn.com/problems/binary-search/solution/er-fen-cha-zhao-by-leetcode-solution-f0xw/)\n- [✅腾讯&字节&leetcode34：在排序数组中查找元素的第一个和最后一个位置](https://labuladong.gitee.io/algo/1/9/)\n- [腾讯&leetcode230：二叉搜索树中第K小的元素](https://github.com/sisterAn/JavaScript-Algorithms/issues/86)\n- [腾讯&leetcode875：爱吃香蕉的珂珂](https://github.com/sisterAn/JavaScript-Algorithms/issues/109)\n\n#### 动态规划\n- [✅字节&leetcode70：爬楼梯问题](https://leetcode-cn.com/problems/climbing-stairs/solution/xiao-nan-gua-jian-dan-di-gui-by-happydem-ribe/)\n- [字节&leetcode746：使用最小花费爬楼梯](https://github.com/sisterAn/JavaScript-Algorithms/issues/91)\n- [字节二面&leetcode53：最大子序和](https://github.com/sisterAn/JavaScript-Algorithms/issues/94)\n- [✅腾讯&leetcode121：买卖股票的最佳时机](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/solution/xiao-dong-tai-gui-hua-by-happydemoney-rfwv/)\n- [腾讯&leetcode647：回文子串](https://github.com/sisterAn/JavaScript-Algorithms/issues/107)\n- [腾讯&leetcode5：最长回文子串](https://github.com/sisterAn/JavaScript-Algorithms/issues/121)\n- [阿里&网易&leetcode64：最小路径和](https://github.com/sisterAn/JavaScript-Algorithms/issues/139)\n\n#### 贪心算法\n- [✅字节&leetcode122：买卖股票的最佳时机 II](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/solution/xiao-tan-xin-by-happydemoney-mafm/)\n- [✅字节&leetcode455：分发饼干](https://leetcode-cn.com/problems/assign-cookies/solution/xiao-shuang-zhi-zhen-by-happydemoney-rmza/)\n- [✅腾讯&leetcode659：分割数组为连续子序列](https://leetcode-cn.com/problems/split-array-into-consecutive-subsequences/solution/fen-ge-shu-zu-wei-lian-xu-zi-xu-lie-by-l-lbs5/)\n\n#### 回溯算法\n- [✅百度&leetcode46：全排列问题](https://leetcode-cn.com/problems/permutations/solution/xiao-hui-su-fa-by-happydemoney-1hi0/)\n- [✅腾讯&leetcode22：括号生成](https://leetcode-cn.com/problems/generate-parentheses/solution/gua-hao-sheng-cheng-by-leetcode-solution/)\n\n### 设计\n\n- [✅华为&leetcode146：设计和实现一个LRU（最近最少使用）缓存机制](https://leetcode-cn.com/problems/lru-cache/solution/xiao-nan-gua-shuang-xiang-lian-biao-ji-m-q7rt/)\n- [✅leetcode297. 二叉树的序列化与反序列化](https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/solution/er-cha-shu-de-xu-lie-hua-yu-fan-xu-lie-hua-by-le-2/)\n","source":"_posts/algorithms-test.md","raw":"---\ntitle: 【算法】深入掌握算法系列\n---\n\n[JavaScript-Algorithms](https://github.com/sisterAn/JavaScript-Algorithms) - 题源地址\n[labuladong的算法小抄](https://labuladong.gitee.io/algo/) - 好的算法学习资料\n\n## 前言\n\n作为业务开发，虽然在平常开发中很少写算法，但当我们需要深入框架、开发语言、开源库时，懂算法将大大提高我们看源码的能力。例如 ：\n\n- virtual-dom diff 算法做了一些约定，后将原先 O(n3) 的时间复杂度降到了O(n) ，核心原理就是一个树的深度优先搜索\n- babel 这些就是一些编译原理的 parser 生成抽象语法树的知识，再将抽象语法树进行转换操作生成文件\n- 浏览器的 history，底层可以使用栈来实现\n- webpack 中利用 tree-shaking 优化\n- v8 中的调用栈、消息队列等等\n\n这些就大量使用了算法，看懂了就能更好的了解它们的性能，更高效的解决问题，提升我们的代码质量与思维视野，进阶到更高 Level，赚更多钱💰💰💰。\n\n## 计划\n\n给自己定个小目标，把下面深入掌握算法的小题全过一遍，每天最少一题；\n目前先附上源地址，后续自己做好后更新题目后的链接地址，并标记清除，比如 ✅图解leetcode88：合并两个有序数组\n\n## 深入掌握算法\n\n分为四个模块：数据结构、算法、设计、基础架构等\n\n###  数据结构\n\n#### 数组篇\n\n- [✅图解leetcode88：合并两个有序数组](https://leetcode-cn.com/problems/merge-sorted-array/solution/tou-ge-lan-shi-yong-yuan-sheng-api-by-ha-qpg5/)\n- [✅字节&leetcode1：两数之和](https://leetcode-cn.com/problems/two-sum/solution/xiao-nan-gua-kong-jian-huan-shi-jian-by-9kjta/)\n- [✅腾讯&leetcode15：三数之和](https://leetcode-cn.com/problems/3sum/solution/xiao-nan-gua-pai-xu-shuang-zhi-zhen-by-h-i03k/)\n- [字节：N数之和](https://github.com/sisterAn/JavaScript-Algorithms/issues/128)\n- [腾讯：数组扁平化、去重、排序 ](https://github.com/sisterAn/JavaScript-Algorithms/issues/5)\n- [✅leetcode349：给定两个数组，编写一个函数来计算它们的交集](https://leetcode-cn.com/problems/intersection-of-two-arrays/solution/xiao-nan-gua-pai-xu-jia-shuang-zhi-zhen-tbapt/)\n- [✅华为&leetcode146：设计和实现一个LRU（最近最少使用）缓存机制](https://leetcode-cn.com/problems/lru-cache/solution/xiao-nan-gua-shuang-xiang-lian-biao-ji-m-q7rt/)\n- [阿里算法题：编写一个函数计算多个数组的交集](https://github.com/sisterAn/JavaScript-Algorithms/issues/10)\n- [✅leetcode352: 将数据流变为多个不相交区间](https://leetcode-cn.com/problems/data-stream-as-disjoint-intervals/solution/xiao-nan-gua-he-li-li-yong-zhan-by-happy-rsd8/)\n\n#### 链表\n- [✅leetcode21：合并两个有序链表](https://leetcode-cn.com/problems/merge-two-sorted-lists/solution/xiao-nan-gua-die-dai-by-happydemoney-c19o/)\n- [✅有赞&leetcode141：判断一个单链表是否有环](https://leetcode-cn.com/problems/linked-list-cycle/solution/xiao-nan-gua-kuai-man-zhi-zhen-by-happyd-hnyl/)\n- [✅图解leetcode206：反转链表](https://leetcode-cn.com/problems/reverse-linked-list/solution/xiao-nan-gua-xian-jin-hou-chu-zhan-by-ha-m56f/)\n- [✅leetcode876：求链表的中间结点](https://leetcode-cn.com/problems/middle-of-the-linked-list/solution/xiao-nan-gua-bian-li-lian-biao-ji-suan-c-nfvg/)\n- [✅leetcode19：删除链表倒数第 n 个结点](https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/solution/xiao-nan-gua-jian-dan-de-die-dai-by-happ-8mo6/)\n- [✅图解字节&leetcode160：编写一个程序，找到两个单链表相交的起始节点](https://leetcode-cn.com/problems/intersection-of-two-linked-lists/solution/xiao-nan-gua-shuang-zhi-zhen-by-happydem-4gsx/)\n- [✅腾讯&leetcode611：有效三角形的个数](https://leetcode-cn.com/problems/valid-triangle-number/solution/xiao-nan-gua-pai-xu-er-fen-by-happydemon-vrkq/)\n- [快手算法：链表求和](https://github.com/sisterAn/JavaScript-Algorithms/issues/114)\n- [leetcode42：接雨水问题](https://github.com/sisterAn/JavaScript-Algorithms/issues/122)\n\n#### 字符串\n- [✅字节&leetcode151：翻转字符串里的单词](https://leetcode-cn.com/problems/reverse-words-in-a-string/solution/xiao-yuan-sheng-apiyi-tao-lu-by-happydem-5yiv/)\n- [✅图解拼多多&leetcode14：最长公共前缀（LCP）](https://leetcode-cn.com/problems/longest-common-prefix/solution/xiao-zhan-jia-lin-shi-bian-liang-by-happ-jr44/)\n- [百度：实现一个函数，判断输入是不是回文字符串](https://github.com/sisterAn/JavaScript-Algorithms/issues/20)\n- [✅字节&Leetcode3：无重复字符的最长子串](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/solution/xiao-dui-lie-by-happydemoney-k6uq/)\n- [✅Facebook&字节&leetcode415: 字符串相加](https://leetcode-cn.com/problems/add-strings/solution/xiao-shuang-zhi-zhen-die-dai-wei-bu-by-h-fi94/)\n- [✅腾讯&leetcode43：字符串相乘](https://leetcode-cn.com/problems/multiply-strings/solution/zi-fu-chuan-xiang-cheng-by-leetcode-solution/)\n- [✅腾讯&剑指 Offer 67. 把字符串转换成整数](https://leetcode-cn.com/problems/string-to-integer-atoi/solution/)\n\n#### 栈\n- [✅字节&leetcode155：最小栈（包含getMin函数的栈）](https://leetcode-cn.com/problems/min-stack/solution/xiao-nan-gua-zui-xiao-zhan-by-happydemon-4bbb/)\n- [✅图解腾讯&哔哩哔哩&leetcode20：有效的括号](https://leetcode-cn.com/problems/valid-parentheses/solution/xiao-nan-gua-zuo-jin-you-chu-by-happydem-kq7g/)\n- [✅leetcode1047：删除字符串中的所有相邻重复项](https://leetcode-cn.com/problems/remove-all-adjacent-duplicates-in-string/solution/xiao-nan-gua-yong-zhan-jian-dan-chu-li-b-foi7/)\n- [leetcode1209：删除字符串中的所有相邻重复项 II](https://github.com/sisterAn/JavaScript-Algorithms/issues/27)\n- [面试真题：删除字符串中出现次数 >= 2 次的相邻字符](https://github.com/sisterAn/JavaScript-Algorithms/issues/28)\n\n#### 队列\n- [✅腾讯&剑指offer09：用两个栈实现队列](https://leetcode-cn.com/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/solution/xiao-nan-gua-zhu-zhan-fu-zhu-zhan-by-hap-tdmu/)\n- [✅leetcode239：滑动窗口最大值问题](https://leetcode-cn.com/problems/sliding-window-maximum/solution/hua-dong-chuang-kou-zui-da-zhi-by-leetco-ki6m/)\n- [✅字节&leetcode151：翻转字符串里的单词](https://leetcode-cn.com/problems/reverse-words-in-a-string/solution/xiao-yuan-sheng-apiyi-tao-lu-by-happydem-5yiv/)\n- [✅字节&Leetcode3：无重复字符的最长子串](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/solution/xiao-dui-lie-by-happydemoney-k6uq/)\n\n#### 哈希表\n- [✅leetcode349：给定两个数组，编写一个函数来计算它们的交集](https://leetcode-cn.com/problems/intersection-of-two-arrays/solution/xiao-nan-gua-pai-xu-jia-shuang-zhi-zhen-tbapt/)\n- [✅字节&leetcode1：两数之和](https://leetcode-cn.com/problems/two-sum/solution/xiao-nan-gua-kong-jian-huan-shi-jian-by-9kjta/)\n- [✅腾讯&leetcode15：三数之和](https://leetcode-cn.com/problems/3sum/solution/xiao-nan-gua-pai-xu-shuang-zhi-zhen-by-h-i03k/)\n- [✅leetcode380：常数时间插入、删除和获取随机元素](https://leetcode-cn.com/problems/insert-delete-getrandom-o1/solution/chang-shu-shi-jian-cha-ru-shan-chu-he-huo-qu-sui-j/)\n- [✅剑指Offer50：第一个只出现一次的字符](https://leetcode-cn.com/problems/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof/solution/xiao-nan-gua-ha-xi-biao-by-happydemoney-h6z6/)\n\n#### 二叉树\n\n##### 二叉树的遍历\n- [✅字节&leetcode144：二叉树的前序遍历](https://leetcode-cn.com/problems/binary-tree-preorder-traversal/solution/xiao-nan-gua-di-gui-jie-jue-qian-zhong-h-lwxw/)\n- [✅字节&leetcode94：二叉树的中序遍历](https://leetcode-cn.com/problems/binary-tree-preorder-traversal/solution/xiao-nan-gua-di-gui-jie-jue-qian-zhong-h-lwxw/)\n- [✅字节&leetcode145：二叉树的后序遍历](https://leetcode-cn.com/problems/binary-tree-preorder-traversal/solution/xiao-nan-gua-di-gui-jie-jue-qian-zhong-h-lwxw/)\n- [✅leetcode102：二叉树的层序遍历](https://leetcode-cn.com/problems/binary-tree-level-order-traversal/solution/xiao-nan-gua-bfs-by-happydemoney-kgdd/)\n- [✅l字节&leetcode107：二叉树的层次遍历](https://leetcode-cn.com/problems/binary-tree-level-order-traversal-ii/solution/xiao-nan-gua-bfszhan-by-happydemoney-e7tg/)\n\n##### 重构二叉树\n- [✅leetcode105：从前序与中序遍历序列构造二叉树](https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/solution/xiao-nan-gua-di-gui-by-happydemoney-7jkz/)\n\n##### 二叉树进阶\n- [✅l腾讯&leetcode104：二叉树的最大深度](https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/solution/xiao-nan-gua-bfs-by-happydemoney-xlgv/)\n- [✅字节&腾讯leetcode236：二叉树的最近公共祖先](https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/solution/xiao-nan-gua-hou-xu-bian-li-by-happydemo-xa1z/)\n- [✅剑指Offer&leetcode110：平衡二叉树](https://leetcode-cn.com/problems/balanced-binary-tree/solution/xiao-nan-gua-hou-xu-bian-li-by-happydemo-y9aj/)\n- [✅字节&leetcode112：路径总和](https://leetcode-cn.com/problems/path-sum/solution/xiao-nan-gua-qian-xu-bian-li-by-happydem-6brs/)\n- [✅剑指Offer&leetcode101：对称二叉树](https://leetcode-cn.com/problems/symmetric-tree/solution/xiao-nan-gua-di-gui-by-happydemoney-45at/)\n- [字节一面：给定一个二叉树, 找到该树中两个指定节点间的最短距离](https://github.com/sisterAn/JavaScript-Algorithms/issues/82)\n- [✅腾讯&leetcode230：二叉搜索树中第K小的元素](https://leetcode-cn.com/problems/kth-smallest-element-in-a-bst/solution/xiao-nan-gua-dfs-by-happydemoney-x8t7/)\n- [二叉树的左右子树交换](https://github.com/sisterAn/JavaScript-Algorithms/issues/141)\n\n#### 堆\n- [腾讯&字节等：最小的k个数](https://github.com/sisterAn/JavaScript-Algorithms/issues/59)\n- [leetcode347：前 K 个高频元素](https://github.com/sisterAn/JavaScript-Algorithms/issues/61)\n- [字节&leetcode215：数组中的第K个最大元素](https://github.com/sisterAn/JavaScript-Algorithms/issues/62)\n- [剑指Offer&leetcode295：数据流的中位数](https://github.com/sisterAn/JavaScript-Algorithms/issues/63)\n\n#### 图\n- [leetcode997：找到小镇的法官](https://github.com/sisterAn/JavaScript-Algorithms/issues/65)\n- [leetcode207：课程表问题](https://github.com/sisterAn/JavaScript-Algorithms/issues/66)\n- [剑指Offer&Bigo：旋转矩阵](https://github.com/sisterAn/JavaScript-Algorithms/issues/57)\n- [腾讯&leetcode：螺旋矩阵 II](https://github.com/sisterAn/JavaScript-Algorithms/issues/134)\n\n###  算法技巧\n\n#### 排序算法\n- [腾讯&字节：介绍一下快排原理以及时间复杂度，并实现一个快排](https://github.com/sisterAn/JavaScript-Algorithms/issues/70)\n- [字节&阿里&网易&leetcode384：打乱数组（洗牌算法）](https://github.com/sisterAn/JavaScript-Algorithms/issues/74)\n- [阿里五面：说下希尔排序的过程？ 希尔排序的时间复杂度和空间复杂度又是多少？](https://github.com/sisterAn/JavaScript-Algorithms/issues/75)\n- [腾讯&leetcode148：排序链表](https://github.com/sisterAn/JavaScript-Algorithms/issues/79)\n- [字节算法题：扑克牌问题（反向推导题）](https://github.com/sisterAn/JavaScript-Algorithms/issues/80)\n- [腾讯&leetcode611：有效三角形的个数](https://github.com/sisterAn/JavaScript-Algorithms/issues/93)\n\n#### 查找算法\n- [✅腾讯：简述二分查找算法与时间复杂度，并实现一个二分查找算法](https://leetcode-cn.com/problems/binary-search/solution/er-fen-cha-zhao-by-leetcode-solution-f0xw/)\n- [✅腾讯&字节&leetcode34：在排序数组中查找元素的第一个和最后一个位置](https://labuladong.gitee.io/algo/1/9/)\n- [腾讯&leetcode230：二叉搜索树中第K小的元素](https://github.com/sisterAn/JavaScript-Algorithms/issues/86)\n- [腾讯&leetcode875：爱吃香蕉的珂珂](https://github.com/sisterAn/JavaScript-Algorithms/issues/109)\n\n#### 动态规划\n- [✅字节&leetcode70：爬楼梯问题](https://leetcode-cn.com/problems/climbing-stairs/solution/xiao-nan-gua-jian-dan-di-gui-by-happydem-ribe/)\n- [字节&leetcode746：使用最小花费爬楼梯](https://github.com/sisterAn/JavaScript-Algorithms/issues/91)\n- [字节二面&leetcode53：最大子序和](https://github.com/sisterAn/JavaScript-Algorithms/issues/94)\n- [✅腾讯&leetcode121：买卖股票的最佳时机](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/solution/xiao-dong-tai-gui-hua-by-happydemoney-rfwv/)\n- [腾讯&leetcode647：回文子串](https://github.com/sisterAn/JavaScript-Algorithms/issues/107)\n- [腾讯&leetcode5：最长回文子串](https://github.com/sisterAn/JavaScript-Algorithms/issues/121)\n- [阿里&网易&leetcode64：最小路径和](https://github.com/sisterAn/JavaScript-Algorithms/issues/139)\n\n#### 贪心算法\n- [✅字节&leetcode122：买卖股票的最佳时机 II](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/solution/xiao-tan-xin-by-happydemoney-mafm/)\n- [✅字节&leetcode455：分发饼干](https://leetcode-cn.com/problems/assign-cookies/solution/xiao-shuang-zhi-zhen-by-happydemoney-rmza/)\n- [✅腾讯&leetcode659：分割数组为连续子序列](https://leetcode-cn.com/problems/split-array-into-consecutive-subsequences/solution/fen-ge-shu-zu-wei-lian-xu-zi-xu-lie-by-l-lbs5/)\n\n#### 回溯算法\n- [✅百度&leetcode46：全排列问题](https://leetcode-cn.com/problems/permutations/solution/xiao-hui-su-fa-by-happydemoney-1hi0/)\n- [✅腾讯&leetcode22：括号生成](https://leetcode-cn.com/problems/generate-parentheses/solution/gua-hao-sheng-cheng-by-leetcode-solution/)\n\n### 设计\n\n- [✅华为&leetcode146：设计和实现一个LRU（最近最少使用）缓存机制](https://leetcode-cn.com/problems/lru-cache/solution/xiao-nan-gua-shuang-xiang-lian-biao-ji-m-q7rt/)\n- [✅leetcode297. 二叉树的序列化与反序列化](https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/solution/er-cha-shu-de-xu-lie-hua-yu-fan-xu-lie-hua-by-le-2/)\n","slug":"algorithms-test","published":1,"date":"2022-09-14T03:12:24.020Z","updated":"2022-09-14T03:12:24.021Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl811yy480000h8w16fgb4ij4","content":"<p><a href=\"https://github.com/sisterAn/JavaScript-Algorithms\">JavaScript-Algorithms</a> - 题源地址<br><a href=\"https://labuladong.gitee.io/algo/\">labuladong的算法小抄</a> - 好的算法学习资料</p>\n<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>作为业务开发，虽然在平常开发中很少写算法，但当我们需要深入框架、开发语言、开源库时，懂算法将大大提高我们看源码的能力。例如 ：</p>\n<ul>\n<li>virtual-dom diff 算法做了一些约定，后将原先 O(n3) 的时间复杂度降到了O(n) ，核心原理就是一个树的深度优先搜索</li>\n<li>babel 这些就是一些编译原理的 parser 生成抽象语法树的知识，再将抽象语法树进行转换操作生成文件</li>\n<li>浏览器的 history，底层可以使用栈来实现</li>\n<li>webpack 中利用 tree-shaking 优化</li>\n<li>v8 中的调用栈、消息队列等等</li>\n</ul>\n<p>这些就大量使用了算法，看懂了就能更好的了解它们的性能，更高效的解决问题，提升我们的代码质量与思维视野，进阶到更高 Level，赚更多钱💰💰💰。</p>\n<h2 id=\"计划\"><a href=\"#计划\" class=\"headerlink\" title=\"计划\"></a>计划</h2><p>给自己定个小目标，把下面深入掌握算法的小题全过一遍，每天最少一题；<br>目前先附上源地址，后续自己做好后更新题目后的链接地址，并标记清除，比如 ✅图解leetcode88：合并两个有序数组</p>\n<h2 id=\"深入掌握算法\"><a href=\"#深入掌握算法\" class=\"headerlink\" title=\"深入掌握算法\"></a>深入掌握算法</h2><p>分为四个模块：数据结构、算法、设计、基础架构等</p>\n<h3 id=\"数据结构\"><a href=\"#数据结构\" class=\"headerlink\" title=\"数据结构\"></a>数据结构</h3><h4 id=\"数组篇\"><a href=\"#数组篇\" class=\"headerlink\" title=\"数组篇\"></a>数组篇</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/merge-sorted-array/solution/tou-ge-lan-shi-yong-yuan-sheng-api-by-ha-qpg5/\">✅图解leetcode88：合并两个有序数组</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/two-sum/solution/xiao-nan-gua-kong-jian-huan-shi-jian-by-9kjta/\">✅字节&amp;leetcode1：两数之和</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/3sum/solution/xiao-nan-gua-pai-xu-shuang-zhi-zhen-by-h-i03k/\">✅腾讯&amp;leetcode15：三数之和</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/128\">字节：N数之和</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/5\">腾讯：数组扁平化、去重、排序 </a></li>\n<li><a href=\"https://leetcode-cn.com/problems/intersection-of-two-arrays/solution/xiao-nan-gua-pai-xu-jia-shuang-zhi-zhen-tbapt/\">✅leetcode349：给定两个数组，编写一个函数来计算它们的交集</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/lru-cache/solution/xiao-nan-gua-shuang-xiang-lian-biao-ji-m-q7rt/\">✅华为&amp;leetcode146：设计和实现一个LRU（最近最少使用）缓存机制</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/10\">阿里算法题：编写一个函数计算多个数组的交集</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/data-stream-as-disjoint-intervals/solution/xiao-nan-gua-he-li-li-yong-zhan-by-happy-rsd8/\">✅leetcode352: 将数据流变为多个不相交区间</a></li>\n</ul>\n<h4 id=\"链表\"><a href=\"#链表\" class=\"headerlink\" title=\"链表\"></a>链表</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/merge-two-sorted-lists/solution/xiao-nan-gua-die-dai-by-happydemoney-c19o/\">✅leetcode21：合并两个有序链表</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/linked-list-cycle/solution/xiao-nan-gua-kuai-man-zhi-zhen-by-happyd-hnyl/\">✅有赞&amp;leetcode141：判断一个单链表是否有环</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/reverse-linked-list/solution/xiao-nan-gua-xian-jin-hou-chu-zhan-by-ha-m56f/\">✅图解leetcode206：反转链表</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/middle-of-the-linked-list/solution/xiao-nan-gua-bian-li-lian-biao-ji-suan-c-nfvg/\">✅leetcode876：求链表的中间结点</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/solution/xiao-nan-gua-jian-dan-de-die-dai-by-happ-8mo6/\">✅leetcode19：删除链表倒数第 n 个结点</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/intersection-of-two-linked-lists/solution/xiao-nan-gua-shuang-zhi-zhen-by-happydem-4gsx/\">✅图解字节&amp;leetcode160：编写一个程序，找到两个单链表相交的起始节点</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/valid-triangle-number/solution/xiao-nan-gua-pai-xu-er-fen-by-happydemon-vrkq/\">✅腾讯&amp;leetcode611：有效三角形的个数</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/114\">快手算法：链表求和</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/122\">leetcode42：接雨水问题</a></li>\n</ul>\n<h4 id=\"字符串\"><a href=\"#字符串\" class=\"headerlink\" title=\"字符串\"></a>字符串</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/reverse-words-in-a-string/solution/xiao-yuan-sheng-apiyi-tao-lu-by-happydem-5yiv/\">✅字节&amp;leetcode151：翻转字符串里的单词</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/longest-common-prefix/solution/xiao-zhan-jia-lin-shi-bian-liang-by-happ-jr44/\">✅图解拼多多&amp;leetcode14：最长公共前缀（LCP）</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/20\">百度：实现一个函数，判断输入是不是回文字符串</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/solution/xiao-dui-lie-by-happydemoney-k6uq/\">✅字节&amp;Leetcode3：无重复字符的最长子串</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/add-strings/solution/xiao-shuang-zhi-zhen-die-dai-wei-bu-by-h-fi94/\">✅Facebook&amp;字节&amp;leetcode415: 字符串相加</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/multiply-strings/solution/zi-fu-chuan-xiang-cheng-by-leetcode-solution/\">✅腾讯&amp;leetcode43：字符串相乘</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/string-to-integer-atoi/solution/\">✅腾讯&amp;剑指 Offer 67. 把字符串转换成整数</a></li>\n</ul>\n<h4 id=\"栈\"><a href=\"#栈\" class=\"headerlink\" title=\"栈\"></a>栈</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/min-stack/solution/xiao-nan-gua-zui-xiao-zhan-by-happydemon-4bbb/\">✅字节&amp;leetcode155：最小栈（包含getMin函数的栈）</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/valid-parentheses/solution/xiao-nan-gua-zuo-jin-you-chu-by-happydem-kq7g/\">✅图解腾讯&amp;哔哩哔哩&amp;leetcode20：有效的括号</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/remove-all-adjacent-duplicates-in-string/solution/xiao-nan-gua-yong-zhan-jian-dan-chu-li-b-foi7/\">✅leetcode1047：删除字符串中的所有相邻重复项</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/27\">leetcode1209：删除字符串中的所有相邻重复项 II</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/28\">面试真题：删除字符串中出现次数 &gt;= 2 次的相邻字符</a></li>\n</ul>\n<h4 id=\"队列\"><a href=\"#队列\" class=\"headerlink\" title=\"队列\"></a>队列</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/solution/xiao-nan-gua-zhu-zhan-fu-zhu-zhan-by-hap-tdmu/\">✅腾讯&amp;剑指offer09：用两个栈实现队列</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/sliding-window-maximum/solution/hua-dong-chuang-kou-zui-da-zhi-by-leetco-ki6m/\">✅leetcode239：滑动窗口最大值问题</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/reverse-words-in-a-string/solution/xiao-yuan-sheng-apiyi-tao-lu-by-happydem-5yiv/\">✅字节&amp;leetcode151：翻转字符串里的单词</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/solution/xiao-dui-lie-by-happydemoney-k6uq/\">✅字节&amp;Leetcode3：无重复字符的最长子串</a></li>\n</ul>\n<h4 id=\"哈希表\"><a href=\"#哈希表\" class=\"headerlink\" title=\"哈希表\"></a>哈希表</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/intersection-of-two-arrays/solution/xiao-nan-gua-pai-xu-jia-shuang-zhi-zhen-tbapt/\">✅leetcode349：给定两个数组，编写一个函数来计算它们的交集</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/two-sum/solution/xiao-nan-gua-kong-jian-huan-shi-jian-by-9kjta/\">✅字节&amp;leetcode1：两数之和</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/3sum/solution/xiao-nan-gua-pai-xu-shuang-zhi-zhen-by-h-i03k/\">✅腾讯&amp;leetcode15：三数之和</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/insert-delete-getrandom-o1/solution/chang-shu-shi-jian-cha-ru-shan-chu-he-huo-qu-sui-j/\">✅leetcode380：常数时间插入、删除和获取随机元素</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof/solution/xiao-nan-gua-ha-xi-biao-by-happydemoney-h6z6/\">✅剑指Offer50：第一个只出现一次的字符</a></li>\n</ul>\n<h4 id=\"二叉树\"><a href=\"#二叉树\" class=\"headerlink\" title=\"二叉树\"></a>二叉树</h4><h5 id=\"二叉树的遍历\"><a href=\"#二叉树的遍历\" class=\"headerlink\" title=\"二叉树的遍历\"></a>二叉树的遍历</h5><ul>\n<li><a href=\"https://leetcode-cn.com/problems/binary-tree-preorder-traversal/solution/xiao-nan-gua-di-gui-jie-jue-qian-zhong-h-lwxw/\">✅字节&amp;leetcode144：二叉树的前序遍历</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/binary-tree-preorder-traversal/solution/xiao-nan-gua-di-gui-jie-jue-qian-zhong-h-lwxw/\">✅字节&amp;leetcode94：二叉树的中序遍历</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/binary-tree-preorder-traversal/solution/xiao-nan-gua-di-gui-jie-jue-qian-zhong-h-lwxw/\">✅字节&amp;leetcode145：二叉树的后序遍历</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/binary-tree-level-order-traversal/solution/xiao-nan-gua-bfs-by-happydemoney-kgdd/\">✅leetcode102：二叉树的层序遍历</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/binary-tree-level-order-traversal-ii/solution/xiao-nan-gua-bfszhan-by-happydemoney-e7tg/\">✅l字节&amp;leetcode107：二叉树的层次遍历</a></li>\n</ul>\n<h5 id=\"重构二叉树\"><a href=\"#重构二叉树\" class=\"headerlink\" title=\"重构二叉树\"></a>重构二叉树</h5><ul>\n<li><a href=\"https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/solution/xiao-nan-gua-di-gui-by-happydemoney-7jkz/\">✅leetcode105：从前序与中序遍历序列构造二叉树</a></li>\n</ul>\n<h5 id=\"二叉树进阶\"><a href=\"#二叉树进阶\" class=\"headerlink\" title=\"二叉树进阶\"></a>二叉树进阶</h5><ul>\n<li><a href=\"https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/solution/xiao-nan-gua-bfs-by-happydemoney-xlgv/\">✅l腾讯&amp;leetcode104：二叉树的最大深度</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/solution/xiao-nan-gua-hou-xu-bian-li-by-happydemo-xa1z/\">✅字节&amp;腾讯leetcode236：二叉树的最近公共祖先</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/balanced-binary-tree/solution/xiao-nan-gua-hou-xu-bian-li-by-happydemo-y9aj/\">✅剑指Offer&amp;leetcode110：平衡二叉树</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/path-sum/solution/xiao-nan-gua-qian-xu-bian-li-by-happydem-6brs/\">✅字节&amp;leetcode112：路径总和</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/symmetric-tree/solution/xiao-nan-gua-di-gui-by-happydemoney-45at/\">✅剑指Offer&amp;leetcode101：对称二叉树</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/82\">字节一面：给定一个二叉树, 找到该树中两个指定节点间的最短距离</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/kth-smallest-element-in-a-bst/solution/xiao-nan-gua-dfs-by-happydemoney-x8t7/\">✅腾讯&amp;leetcode230：二叉搜索树中第K小的元素</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/141\">二叉树的左右子树交换</a></li>\n</ul>\n<h4 id=\"堆\"><a href=\"#堆\" class=\"headerlink\" title=\"堆\"></a>堆</h4><ul>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/59\">腾讯&amp;字节等：最小的k个数</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/61\">leetcode347：前 K 个高频元素</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/62\">字节&amp;leetcode215：数组中的第K个最大元素</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/63\">剑指Offer&amp;leetcode295：数据流的中位数</a></li>\n</ul>\n<h4 id=\"图\"><a href=\"#图\" class=\"headerlink\" title=\"图\"></a>图</h4><ul>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/65\">leetcode997：找到小镇的法官</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/66\">leetcode207：课程表问题</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/57\">剑指Offer&amp;Bigo：旋转矩阵</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/134\">腾讯&amp;leetcode：螺旋矩阵 II</a></li>\n</ul>\n<h3 id=\"算法技巧\"><a href=\"#算法技巧\" class=\"headerlink\" title=\"算法技巧\"></a>算法技巧</h3><h4 id=\"排序算法\"><a href=\"#排序算法\" class=\"headerlink\" title=\"排序算法\"></a>排序算法</h4><ul>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/70\">腾讯&amp;字节：介绍一下快排原理以及时间复杂度，并实现一个快排</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/74\">字节&amp;阿里&amp;网易&amp;leetcode384：打乱数组（洗牌算法）</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/75\">阿里五面：说下希尔排序的过程？ 希尔排序的时间复杂度和空间复杂度又是多少？</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/79\">腾讯&amp;leetcode148：排序链表</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/80\">字节算法题：扑克牌问题（反向推导题）</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/93\">腾讯&amp;leetcode611：有效三角形的个数</a></li>\n</ul>\n<h4 id=\"查找算法\"><a href=\"#查找算法\" class=\"headerlink\" title=\"查找算法\"></a>查找算法</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/binary-search/solution/er-fen-cha-zhao-by-leetcode-solution-f0xw/\">✅腾讯：简述二分查找算法与时间复杂度，并实现一个二分查找算法</a></li>\n<li><a href=\"https://labuladong.gitee.io/algo/1/9/\">✅腾讯&amp;字节&amp;leetcode34：在排序数组中查找元素的第一个和最后一个位置</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/86\">腾讯&amp;leetcode230：二叉搜索树中第K小的元素</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/109\">腾讯&amp;leetcode875：爱吃香蕉的珂珂</a></li>\n</ul>\n<h4 id=\"动态规划\"><a href=\"#动态规划\" class=\"headerlink\" title=\"动态规划\"></a>动态规划</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/climbing-stairs/solution/xiao-nan-gua-jian-dan-di-gui-by-happydem-ribe/\">✅字节&amp;leetcode70：爬楼梯问题</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/91\">字节&amp;leetcode746：使用最小花费爬楼梯</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/94\">字节二面&amp;leetcode53：最大子序和</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/solution/xiao-dong-tai-gui-hua-by-happydemoney-rfwv/\">✅腾讯&amp;leetcode121：买卖股票的最佳时机</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/107\">腾讯&amp;leetcode647：回文子串</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/121\">腾讯&amp;leetcode5：最长回文子串</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/139\">阿里&amp;网易&amp;leetcode64：最小路径和</a></li>\n</ul>\n<h4 id=\"贪心算法\"><a href=\"#贪心算法\" class=\"headerlink\" title=\"贪心算法\"></a>贪心算法</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/solution/xiao-tan-xin-by-happydemoney-mafm/\">✅字节&amp;leetcode122：买卖股票的最佳时机 II</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/assign-cookies/solution/xiao-shuang-zhi-zhen-by-happydemoney-rmza/\">✅字节&amp;leetcode455：分发饼干</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/split-array-into-consecutive-subsequences/solution/fen-ge-shu-zu-wei-lian-xu-zi-xu-lie-by-l-lbs5/\">✅腾讯&amp;leetcode659：分割数组为连续子序列</a></li>\n</ul>\n<h4 id=\"回溯算法\"><a href=\"#回溯算法\" class=\"headerlink\" title=\"回溯算法\"></a>回溯算法</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/permutations/solution/xiao-hui-su-fa-by-happydemoney-1hi0/\">✅百度&amp;leetcode46：全排列问题</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/generate-parentheses/solution/gua-hao-sheng-cheng-by-leetcode-solution/\">✅腾讯&amp;leetcode22：括号生成</a></li>\n</ul>\n<h3 id=\"设计\"><a href=\"#设计\" class=\"headerlink\" title=\"设计\"></a>设计</h3><ul>\n<li><a href=\"https://leetcode-cn.com/problems/lru-cache/solution/xiao-nan-gua-shuang-xiang-lian-biao-ji-m-q7rt/\">✅华为&amp;leetcode146：设计和实现一个LRU（最近最少使用）缓存机制</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/solution/er-cha-shu-de-xu-lie-hua-yu-fan-xu-lie-hua-by-le-2/\">✅leetcode297. 二叉树的序列化与反序列化</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p><a href=\"https://github.com/sisterAn/JavaScript-Algorithms\">JavaScript-Algorithms</a> - 题源地址<br><a href=\"https://labuladong.gitee.io/algo/\">labuladong的算法小抄</a> - 好的算法学习资料</p>\n<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>作为业务开发，虽然在平常开发中很少写算法，但当我们需要深入框架、开发语言、开源库时，懂算法将大大提高我们看源码的能力。例如 ：</p>\n<ul>\n<li>virtual-dom diff 算法做了一些约定，后将原先 O(n3) 的时间复杂度降到了O(n) ，核心原理就是一个树的深度优先搜索</li>\n<li>babel 这些就是一些编译原理的 parser 生成抽象语法树的知识，再将抽象语法树进行转换操作生成文件</li>\n<li>浏览器的 history，底层可以使用栈来实现</li>\n<li>webpack 中利用 tree-shaking 优化</li>\n<li>v8 中的调用栈、消息队列等等</li>\n</ul>\n<p>这些就大量使用了算法，看懂了就能更好的了解它们的性能，更高效的解决问题，提升我们的代码质量与思维视野，进阶到更高 Level，赚更多钱💰💰💰。</p>\n<h2 id=\"计划\"><a href=\"#计划\" class=\"headerlink\" title=\"计划\"></a>计划</h2><p>给自己定个小目标，把下面深入掌握算法的小题全过一遍，每天最少一题；<br>目前先附上源地址，后续自己做好后更新题目后的链接地址，并标记清除，比如 ✅图解leetcode88：合并两个有序数组</p>\n<h2 id=\"深入掌握算法\"><a href=\"#深入掌握算法\" class=\"headerlink\" title=\"深入掌握算法\"></a>深入掌握算法</h2><p>分为四个模块：数据结构、算法、设计、基础架构等</p>\n<h3 id=\"数据结构\"><a href=\"#数据结构\" class=\"headerlink\" title=\"数据结构\"></a>数据结构</h3><h4 id=\"数组篇\"><a href=\"#数组篇\" class=\"headerlink\" title=\"数组篇\"></a>数组篇</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/merge-sorted-array/solution/tou-ge-lan-shi-yong-yuan-sheng-api-by-ha-qpg5/\">✅图解leetcode88：合并两个有序数组</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/two-sum/solution/xiao-nan-gua-kong-jian-huan-shi-jian-by-9kjta/\">✅字节&amp;leetcode1：两数之和</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/3sum/solution/xiao-nan-gua-pai-xu-shuang-zhi-zhen-by-h-i03k/\">✅腾讯&amp;leetcode15：三数之和</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/128\">字节：N数之和</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/5\">腾讯：数组扁平化、去重、排序 </a></li>\n<li><a href=\"https://leetcode-cn.com/problems/intersection-of-two-arrays/solution/xiao-nan-gua-pai-xu-jia-shuang-zhi-zhen-tbapt/\">✅leetcode349：给定两个数组，编写一个函数来计算它们的交集</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/lru-cache/solution/xiao-nan-gua-shuang-xiang-lian-biao-ji-m-q7rt/\">✅华为&amp;leetcode146：设计和实现一个LRU（最近最少使用）缓存机制</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/10\">阿里算法题：编写一个函数计算多个数组的交集</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/data-stream-as-disjoint-intervals/solution/xiao-nan-gua-he-li-li-yong-zhan-by-happy-rsd8/\">✅leetcode352: 将数据流变为多个不相交区间</a></li>\n</ul>\n<h4 id=\"链表\"><a href=\"#链表\" class=\"headerlink\" title=\"链表\"></a>链表</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/merge-two-sorted-lists/solution/xiao-nan-gua-die-dai-by-happydemoney-c19o/\">✅leetcode21：合并两个有序链表</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/linked-list-cycle/solution/xiao-nan-gua-kuai-man-zhi-zhen-by-happyd-hnyl/\">✅有赞&amp;leetcode141：判断一个单链表是否有环</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/reverse-linked-list/solution/xiao-nan-gua-xian-jin-hou-chu-zhan-by-ha-m56f/\">✅图解leetcode206：反转链表</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/middle-of-the-linked-list/solution/xiao-nan-gua-bian-li-lian-biao-ji-suan-c-nfvg/\">✅leetcode876：求链表的中间结点</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/solution/xiao-nan-gua-jian-dan-de-die-dai-by-happ-8mo6/\">✅leetcode19：删除链表倒数第 n 个结点</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/intersection-of-two-linked-lists/solution/xiao-nan-gua-shuang-zhi-zhen-by-happydem-4gsx/\">✅图解字节&amp;leetcode160：编写一个程序，找到两个单链表相交的起始节点</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/valid-triangle-number/solution/xiao-nan-gua-pai-xu-er-fen-by-happydemon-vrkq/\">✅腾讯&amp;leetcode611：有效三角形的个数</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/114\">快手算法：链表求和</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/122\">leetcode42：接雨水问题</a></li>\n</ul>\n<h4 id=\"字符串\"><a href=\"#字符串\" class=\"headerlink\" title=\"字符串\"></a>字符串</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/reverse-words-in-a-string/solution/xiao-yuan-sheng-apiyi-tao-lu-by-happydem-5yiv/\">✅字节&amp;leetcode151：翻转字符串里的单词</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/longest-common-prefix/solution/xiao-zhan-jia-lin-shi-bian-liang-by-happ-jr44/\">✅图解拼多多&amp;leetcode14：最长公共前缀（LCP）</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/20\">百度：实现一个函数，判断输入是不是回文字符串</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/solution/xiao-dui-lie-by-happydemoney-k6uq/\">✅字节&amp;Leetcode3：无重复字符的最长子串</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/add-strings/solution/xiao-shuang-zhi-zhen-die-dai-wei-bu-by-h-fi94/\">✅Facebook&amp;字节&amp;leetcode415: 字符串相加</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/multiply-strings/solution/zi-fu-chuan-xiang-cheng-by-leetcode-solution/\">✅腾讯&amp;leetcode43：字符串相乘</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/string-to-integer-atoi/solution/\">✅腾讯&amp;剑指 Offer 67. 把字符串转换成整数</a></li>\n</ul>\n<h4 id=\"栈\"><a href=\"#栈\" class=\"headerlink\" title=\"栈\"></a>栈</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/min-stack/solution/xiao-nan-gua-zui-xiao-zhan-by-happydemon-4bbb/\">✅字节&amp;leetcode155：最小栈（包含getMin函数的栈）</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/valid-parentheses/solution/xiao-nan-gua-zuo-jin-you-chu-by-happydem-kq7g/\">✅图解腾讯&amp;哔哩哔哩&amp;leetcode20：有效的括号</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/remove-all-adjacent-duplicates-in-string/solution/xiao-nan-gua-yong-zhan-jian-dan-chu-li-b-foi7/\">✅leetcode1047：删除字符串中的所有相邻重复项</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/27\">leetcode1209：删除字符串中的所有相邻重复项 II</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/28\">面试真题：删除字符串中出现次数 &gt;= 2 次的相邻字符</a></li>\n</ul>\n<h4 id=\"队列\"><a href=\"#队列\" class=\"headerlink\" title=\"队列\"></a>队列</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/solution/xiao-nan-gua-zhu-zhan-fu-zhu-zhan-by-hap-tdmu/\">✅腾讯&amp;剑指offer09：用两个栈实现队列</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/sliding-window-maximum/solution/hua-dong-chuang-kou-zui-da-zhi-by-leetco-ki6m/\">✅leetcode239：滑动窗口最大值问题</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/reverse-words-in-a-string/solution/xiao-yuan-sheng-apiyi-tao-lu-by-happydem-5yiv/\">✅字节&amp;leetcode151：翻转字符串里的单词</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/solution/xiao-dui-lie-by-happydemoney-k6uq/\">✅字节&amp;Leetcode3：无重复字符的最长子串</a></li>\n</ul>\n<h4 id=\"哈希表\"><a href=\"#哈希表\" class=\"headerlink\" title=\"哈希表\"></a>哈希表</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/intersection-of-two-arrays/solution/xiao-nan-gua-pai-xu-jia-shuang-zhi-zhen-tbapt/\">✅leetcode349：给定两个数组，编写一个函数来计算它们的交集</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/two-sum/solution/xiao-nan-gua-kong-jian-huan-shi-jian-by-9kjta/\">✅字节&amp;leetcode1：两数之和</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/3sum/solution/xiao-nan-gua-pai-xu-shuang-zhi-zhen-by-h-i03k/\">✅腾讯&amp;leetcode15：三数之和</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/insert-delete-getrandom-o1/solution/chang-shu-shi-jian-cha-ru-shan-chu-he-huo-qu-sui-j/\">✅leetcode380：常数时间插入、删除和获取随机元素</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof/solution/xiao-nan-gua-ha-xi-biao-by-happydemoney-h6z6/\">✅剑指Offer50：第一个只出现一次的字符</a></li>\n</ul>\n<h4 id=\"二叉树\"><a href=\"#二叉树\" class=\"headerlink\" title=\"二叉树\"></a>二叉树</h4><h5 id=\"二叉树的遍历\"><a href=\"#二叉树的遍历\" class=\"headerlink\" title=\"二叉树的遍历\"></a>二叉树的遍历</h5><ul>\n<li><a href=\"https://leetcode-cn.com/problems/binary-tree-preorder-traversal/solution/xiao-nan-gua-di-gui-jie-jue-qian-zhong-h-lwxw/\">✅字节&amp;leetcode144：二叉树的前序遍历</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/binary-tree-preorder-traversal/solution/xiao-nan-gua-di-gui-jie-jue-qian-zhong-h-lwxw/\">✅字节&amp;leetcode94：二叉树的中序遍历</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/binary-tree-preorder-traversal/solution/xiao-nan-gua-di-gui-jie-jue-qian-zhong-h-lwxw/\">✅字节&amp;leetcode145：二叉树的后序遍历</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/binary-tree-level-order-traversal/solution/xiao-nan-gua-bfs-by-happydemoney-kgdd/\">✅leetcode102：二叉树的层序遍历</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/binary-tree-level-order-traversal-ii/solution/xiao-nan-gua-bfszhan-by-happydemoney-e7tg/\">✅l字节&amp;leetcode107：二叉树的层次遍历</a></li>\n</ul>\n<h5 id=\"重构二叉树\"><a href=\"#重构二叉树\" class=\"headerlink\" title=\"重构二叉树\"></a>重构二叉树</h5><ul>\n<li><a href=\"https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/solution/xiao-nan-gua-di-gui-by-happydemoney-7jkz/\">✅leetcode105：从前序与中序遍历序列构造二叉树</a></li>\n</ul>\n<h5 id=\"二叉树进阶\"><a href=\"#二叉树进阶\" class=\"headerlink\" title=\"二叉树进阶\"></a>二叉树进阶</h5><ul>\n<li><a href=\"https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/solution/xiao-nan-gua-bfs-by-happydemoney-xlgv/\">✅l腾讯&amp;leetcode104：二叉树的最大深度</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/solution/xiao-nan-gua-hou-xu-bian-li-by-happydemo-xa1z/\">✅字节&amp;腾讯leetcode236：二叉树的最近公共祖先</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/balanced-binary-tree/solution/xiao-nan-gua-hou-xu-bian-li-by-happydemo-y9aj/\">✅剑指Offer&amp;leetcode110：平衡二叉树</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/path-sum/solution/xiao-nan-gua-qian-xu-bian-li-by-happydem-6brs/\">✅字节&amp;leetcode112：路径总和</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/symmetric-tree/solution/xiao-nan-gua-di-gui-by-happydemoney-45at/\">✅剑指Offer&amp;leetcode101：对称二叉树</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/82\">字节一面：给定一个二叉树, 找到该树中两个指定节点间的最短距离</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/kth-smallest-element-in-a-bst/solution/xiao-nan-gua-dfs-by-happydemoney-x8t7/\">✅腾讯&amp;leetcode230：二叉搜索树中第K小的元素</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/141\">二叉树的左右子树交换</a></li>\n</ul>\n<h4 id=\"堆\"><a href=\"#堆\" class=\"headerlink\" title=\"堆\"></a>堆</h4><ul>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/59\">腾讯&amp;字节等：最小的k个数</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/61\">leetcode347：前 K 个高频元素</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/62\">字节&amp;leetcode215：数组中的第K个最大元素</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/63\">剑指Offer&amp;leetcode295：数据流的中位数</a></li>\n</ul>\n<h4 id=\"图\"><a href=\"#图\" class=\"headerlink\" title=\"图\"></a>图</h4><ul>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/65\">leetcode997：找到小镇的法官</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/66\">leetcode207：课程表问题</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/57\">剑指Offer&amp;Bigo：旋转矩阵</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/134\">腾讯&amp;leetcode：螺旋矩阵 II</a></li>\n</ul>\n<h3 id=\"算法技巧\"><a href=\"#算法技巧\" class=\"headerlink\" title=\"算法技巧\"></a>算法技巧</h3><h4 id=\"排序算法\"><a href=\"#排序算法\" class=\"headerlink\" title=\"排序算法\"></a>排序算法</h4><ul>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/70\">腾讯&amp;字节：介绍一下快排原理以及时间复杂度，并实现一个快排</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/74\">字节&amp;阿里&amp;网易&amp;leetcode384：打乱数组（洗牌算法）</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/75\">阿里五面：说下希尔排序的过程？ 希尔排序的时间复杂度和空间复杂度又是多少？</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/79\">腾讯&amp;leetcode148：排序链表</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/80\">字节算法题：扑克牌问题（反向推导题）</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/93\">腾讯&amp;leetcode611：有效三角形的个数</a></li>\n</ul>\n<h4 id=\"查找算法\"><a href=\"#查找算法\" class=\"headerlink\" title=\"查找算法\"></a>查找算法</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/binary-search/solution/er-fen-cha-zhao-by-leetcode-solution-f0xw/\">✅腾讯：简述二分查找算法与时间复杂度，并实现一个二分查找算法</a></li>\n<li><a href=\"https://labuladong.gitee.io/algo/1/9/\">✅腾讯&amp;字节&amp;leetcode34：在排序数组中查找元素的第一个和最后一个位置</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/86\">腾讯&amp;leetcode230：二叉搜索树中第K小的元素</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/109\">腾讯&amp;leetcode875：爱吃香蕉的珂珂</a></li>\n</ul>\n<h4 id=\"动态规划\"><a href=\"#动态规划\" class=\"headerlink\" title=\"动态规划\"></a>动态规划</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/climbing-stairs/solution/xiao-nan-gua-jian-dan-di-gui-by-happydem-ribe/\">✅字节&amp;leetcode70：爬楼梯问题</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/91\">字节&amp;leetcode746：使用最小花费爬楼梯</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/94\">字节二面&amp;leetcode53：最大子序和</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/solution/xiao-dong-tai-gui-hua-by-happydemoney-rfwv/\">✅腾讯&amp;leetcode121：买卖股票的最佳时机</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/107\">腾讯&amp;leetcode647：回文子串</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/121\">腾讯&amp;leetcode5：最长回文子串</a></li>\n<li><a href=\"https://github.com/sisterAn/JavaScript-Algorithms/issues/139\">阿里&amp;网易&amp;leetcode64：最小路径和</a></li>\n</ul>\n<h4 id=\"贪心算法\"><a href=\"#贪心算法\" class=\"headerlink\" title=\"贪心算法\"></a>贪心算法</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/solution/xiao-tan-xin-by-happydemoney-mafm/\">✅字节&amp;leetcode122：买卖股票的最佳时机 II</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/assign-cookies/solution/xiao-shuang-zhi-zhen-by-happydemoney-rmza/\">✅字节&amp;leetcode455：分发饼干</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/split-array-into-consecutive-subsequences/solution/fen-ge-shu-zu-wei-lian-xu-zi-xu-lie-by-l-lbs5/\">✅腾讯&amp;leetcode659：分割数组为连续子序列</a></li>\n</ul>\n<h4 id=\"回溯算法\"><a href=\"#回溯算法\" class=\"headerlink\" title=\"回溯算法\"></a>回溯算法</h4><ul>\n<li><a href=\"https://leetcode-cn.com/problems/permutations/solution/xiao-hui-su-fa-by-happydemoney-1hi0/\">✅百度&amp;leetcode46：全排列问题</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/generate-parentheses/solution/gua-hao-sheng-cheng-by-leetcode-solution/\">✅腾讯&amp;leetcode22：括号生成</a></li>\n</ul>\n<h3 id=\"设计\"><a href=\"#设计\" class=\"headerlink\" title=\"设计\"></a>设计</h3><ul>\n<li><a href=\"https://leetcode-cn.com/problems/lru-cache/solution/xiao-nan-gua-shuang-xiang-lian-biao-ji-m-q7rt/\">✅华为&amp;leetcode146：设计和实现一个LRU（最近最少使用）缓存机制</a></li>\n<li><a href=\"https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/solution/er-cha-shu-de-xu-lie-hua-yu-fan-xu-lie-hua-by-le-2/\">✅leetcode297. 二叉树的序列化与反序列化</a></li>\n</ul>\n"},{"title":"Hexo Simple Use","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hexo Simple Use\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","slug":"hello-world","published":1,"date":"2022-09-14T03:12:24.025Z","updated":"2022-09-14T03:12:24.026Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl811yy4n0001h8w1faaagav6","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n"},{"title":"【webpack】打包一个vue应用","_content":"Tag: `学习` `webapck`\n\n打包一个vue应用最方便的还是使用官方提供的vue-cli应用，但是，从长远来说，这不利于我们自身的成长；\n所以让我们暂时忘却vue-cli，基于webpack，从头一点一点去整合出一个webpack打包配置来；\n\n##  目标\n\n- 打包一个vue应用，可本地运行调试，可打线上包\n\n##  前期准备\n\n### 学习资料\n\n[深入浅出webpack](http://webpack.wuhaolin.cn/)\n\n[webpack中文文档](https://webpack.docschina.org/concepts/)\n\n###  webpack核心概念\n\n- Entry：入口，Webpack 执行构建的第一步将从 Entry 开始，可抽象成输入。\n- Module：模块，在 Webpack 里一切皆模块，一个模块对应着一个文件。Webpack 会从配置的 Entry 开始递归找出所有依赖的模块。\n- Chunk：代码块，一个 Chunk 由多个模块组合而成，用于代码合并与分割。\n- Loader：模块转换器，用于把模块原内容按照需求转换成新内容。\n- Plugin：扩展插件，在 Webpack 构建流程中的特定时机注入扩展逻辑来改变构建结果或做你想要的事情。\n- Output：输出结果，在 Webpack 经过一系列处理并得出最终想要的代码后输出结果。\n\n### 运行环境\n\n[node-v16.9.1](https://nodejs.org/zh-cn/)\n[vue-cli(用于生成一个vue基本工程)](https://cli.vuejs.org/zh/guide/installation.html)\n\n依赖版本相关\n\"webpack\": \"^5.64.1\",\n\"webpack-cli\": \"^4.9.1\",\n\n### 技术选型\n\n- 开发语言 ( JS (ES5/ES6+) or TS )\n\n  使用ES6，借助Babel\n\n- css预处理器 ( Less (.less) | Sass (.scss/.sass) | Stylus(.stylus/.styl) | Postcss )\n\n  使用Less\n\n### 一个空vue工程\n\n```js\n// 验证cli是否安装成功\nvue -V // 3.5.1\n\n// Mac/linux系统\nvue create webpack-practice\n// Windows系统\nwinpty vue.cmd create webpack-practice\n\n// 选择default(babel, eslint)\ncd webpack-practice\nnpm run serve\n\n/**\n *  DONE  Compiled successfully in 3542ms \n * \n * App running at:\n  - Local:   http://localhost:8080/ \n  - Network: http://x.x.x.x:8080/\n  Note that the development build is not optimized.\n  To create a production build, run npm run build.\n * /\n// 出现以上字样表示空工程已就绪\n```\n\n一切准备就绪，下面开始进入正题\n\n##  基础依赖及配置\n\n```js\nnpm i webpack webpack-cli -D\n```\n\n```js\n// package.json - add npm script\n\"scripts\": {\n  \"start\": \"webpack\",\n  \"serve:webpack\": \"webpack serve\",\n  \"build:webpack\": \"webpack --mode production\"\n},\n```\n\n```js\n// 根目录 - ./webpack.config.js\n/**\n * webapck配置总入口\n * 将配置分成三份，common/dev/prod\n */\nconst merge = require('webpack-merge');\nconst commonConfig = require('./build/webpack-common.config.js');\nconst developmentConfig = require('./build/webpack-dev.config.js');\nconst productionConfig = require('./build/webpack-prod.config.js');\n\nmodule.exports = (env, args) => {\n  if (args.mode === 'production') {\n    return merge(commonConfig, productionConfig);\n  } else {\n    return merge(commonConfig, developmentConfig);\n  }\n};\n```\n\n```js\n// build目录 - ./build/webpack-common.config.js\n/**\n * webapck配置文档\n * docs: https://webpack.docschina.org/concepts/\n */\nconst path = require('path');\n\nfunction resolve (dir) {\n  return path.join(__dirname, '..', dir)\n}\n\nmodule.exports = {\n  /**\n   * 入口(entry)\n   * 入口起点(entry point) 指示 webpack 应该使用哪个模块，来作为构建其内部 依赖图(dependency graph) 的开始。进入入口起点后，webpack 会找出有哪些模块和库是入口起点（直接和间接）依赖的。\n   * 默认值是 ./src/index.js\n   */\n  entry: './src/main.js',\n  /**\n   * 输出(output)\n   * output 属性告诉 webpack 在哪里输出它所创建的 bundle，以及如何命名这些文件。主要输出文件的默认值是 ./dist/main.js，其他生成文件默认放置在 ./dist 文件夹中。\n   */\n   output: {\n    path: resolve('/dist'), // 需要绝对路径\n    filename: '[name].js',\n    publicPath: '/'\n  },\n}\n```\n\n```js\n// build目录 - ./build/webpack-dev.config.js\n/**\n * 开发环境webpack配置\n */\nmodule.exports = {\n  mode: 'development',\n}\n```\n\n```js\n// build目录 - ./build/webpack-prod.config.js\n/**\n * 生产环境webpack配置\n */\nmodule.exports = {\n  mode: 'production',\n}\n```\n\n至此webpack相关基本配置已完成\n\n开始执行打包命令：\n\n```js\nnpm run start\n/**\n * \n * ERROR in ./src/App.vue 1:0\nModule parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> <template>\n|   <div id=\"app\">\n|     <img alt=\"Vue logo\" src=\"./assets/logo.png\">\n @ ./src/main.js 2:0-27 7:17-20\n *\n * /\n```\n\n报错了，大概意思是.vue文件它不能识别，需要借助相关loader处理\n\n##  loader配置\n\n### vue-loader\n\n[vue-loader](https://vue-loader.vuejs.org/zh/)\n\n```js\n// vue-loader因为已经通过cli安装了，所以不需要再安装了\n\n// ./build/webpack-common.config.js - 更新配置\nconst { VueLoaderPlugin } = require('vue-loader')\n\nmodule.exports = {\n  module: {\n    rules: [\n      // ... 其它规则\n      {\n        test: /\\.vue$/,\n        loader: 'vue-loader'\n      }\n    ]\n  },\n  plugins: [\n    // 请确保引入这个插件！\n    new VueLoaderPlugin()\n  ]\n}\n\n// 再次执行打包命令\nnpm run start\n/**\n * \n * ERROR in ./src/App.vue?vue&type=style&index=0&lang=css& (./node_modules/vue-loader/lib??vue-loader-options!./src/App.vue?vue&type=style&index=0&lang=css&) 20:0\nModule parse failed: Unexpected character '#' (20:0)\nFile was processed with these loaders:\n * ./node_modules/vue-loader/lib/index.js\nYou may need an additional loader to handle the result of these loaders.\n| \n| \n> #app {\n*/\n```\n\n又报错了，这次是识别不了图片和css样式，得，继续配置loader\n\n###  css-loader / url-loader\n\n```js\n// css-loader因为已经通过cli安装了，所以不需要再安装了\n\n// ./build/webpack-common.config.js - 更新配置\nmodule.exports = {\n  module: {\n    rules: [\n      // 其他loader\n      {\n        test: /\\.css$/,\n        use: ['vue-style-loader', 'css-loader']\n      },\n      {\n        test: /\\.png$/,\n        loader: 'url-loader',\n      }\n    ]\n  },\n}\n\n// 再次执行打包命令\nnpm run start\n\n// nice 打包成功\n```\n\n####  说明\n\n- css-loader 会找出 CSS 代码中的 @import 和 url() 这样的导入语句，告诉 Webpack 依赖这些资源。同时还支持 CSS Modules、压缩 CSS 等功能。处理完后再把结果交给 style-loader 去处理。\n\n- style-loader 会把 CSS 代码转换成字符串后，注入到 JavaScript 代码中去，通过 JavaScript 去给 DOM 增加样式。\n\n这里使用的vue-style-loader是fork了style-loader的源代码，对vue文件做了一些定制化处理。\n\n##  总结\n\n- 熟悉并实践了一下webpack的基本配置\n- 使用vue-loader加载.vue单文件\n- 使用css-loader/vue-style-loader加载.css文件\n- 使用url-loader加载图片资源文件\n\n其他未解决问题（后续再更新）：\n\n- css预处理文件处理 ，比如less (less-loader)\n- ES6转ES5语法 (babel-loader)\n- 本地运行一个服务并支持热更新 (wepack-dev-server)\n- 字体等文件的加载 (url-loader)\n- 视频等文件的加载 (url-loader)\n- 其他实用的功能（比如vue支持jsx的写法）\n- 线上打包的优化等等\n","source":"_posts/webpack-package.md","raw":"---\ntitle: 【webpack】打包一个vue应用\n---\nTag: `学习` `webapck`\n\n打包一个vue应用最方便的还是使用官方提供的vue-cli应用，但是，从长远来说，这不利于我们自身的成长；\n所以让我们暂时忘却vue-cli，基于webpack，从头一点一点去整合出一个webpack打包配置来；\n\n##  目标\n\n- 打包一个vue应用，可本地运行调试，可打线上包\n\n##  前期准备\n\n### 学习资料\n\n[深入浅出webpack](http://webpack.wuhaolin.cn/)\n\n[webpack中文文档](https://webpack.docschina.org/concepts/)\n\n###  webpack核心概念\n\n- Entry：入口，Webpack 执行构建的第一步将从 Entry 开始，可抽象成输入。\n- Module：模块，在 Webpack 里一切皆模块，一个模块对应着一个文件。Webpack 会从配置的 Entry 开始递归找出所有依赖的模块。\n- Chunk：代码块，一个 Chunk 由多个模块组合而成，用于代码合并与分割。\n- Loader：模块转换器，用于把模块原内容按照需求转换成新内容。\n- Plugin：扩展插件，在 Webpack 构建流程中的特定时机注入扩展逻辑来改变构建结果或做你想要的事情。\n- Output：输出结果，在 Webpack 经过一系列处理并得出最终想要的代码后输出结果。\n\n### 运行环境\n\n[node-v16.9.1](https://nodejs.org/zh-cn/)\n[vue-cli(用于生成一个vue基本工程)](https://cli.vuejs.org/zh/guide/installation.html)\n\n依赖版本相关\n\"webpack\": \"^5.64.1\",\n\"webpack-cli\": \"^4.9.1\",\n\n### 技术选型\n\n- 开发语言 ( JS (ES5/ES6+) or TS )\n\n  使用ES6，借助Babel\n\n- css预处理器 ( Less (.less) | Sass (.scss/.sass) | Stylus(.stylus/.styl) | Postcss )\n\n  使用Less\n\n### 一个空vue工程\n\n```js\n// 验证cli是否安装成功\nvue -V // 3.5.1\n\n// Mac/linux系统\nvue create webpack-practice\n// Windows系统\nwinpty vue.cmd create webpack-practice\n\n// 选择default(babel, eslint)\ncd webpack-practice\nnpm run serve\n\n/**\n *  DONE  Compiled successfully in 3542ms \n * \n * App running at:\n  - Local:   http://localhost:8080/ \n  - Network: http://x.x.x.x:8080/\n  Note that the development build is not optimized.\n  To create a production build, run npm run build.\n * /\n// 出现以上字样表示空工程已就绪\n```\n\n一切准备就绪，下面开始进入正题\n\n##  基础依赖及配置\n\n```js\nnpm i webpack webpack-cli -D\n```\n\n```js\n// package.json - add npm script\n\"scripts\": {\n  \"start\": \"webpack\",\n  \"serve:webpack\": \"webpack serve\",\n  \"build:webpack\": \"webpack --mode production\"\n},\n```\n\n```js\n// 根目录 - ./webpack.config.js\n/**\n * webapck配置总入口\n * 将配置分成三份，common/dev/prod\n */\nconst merge = require('webpack-merge');\nconst commonConfig = require('./build/webpack-common.config.js');\nconst developmentConfig = require('./build/webpack-dev.config.js');\nconst productionConfig = require('./build/webpack-prod.config.js');\n\nmodule.exports = (env, args) => {\n  if (args.mode === 'production') {\n    return merge(commonConfig, productionConfig);\n  } else {\n    return merge(commonConfig, developmentConfig);\n  }\n};\n```\n\n```js\n// build目录 - ./build/webpack-common.config.js\n/**\n * webapck配置文档\n * docs: https://webpack.docschina.org/concepts/\n */\nconst path = require('path');\n\nfunction resolve (dir) {\n  return path.join(__dirname, '..', dir)\n}\n\nmodule.exports = {\n  /**\n   * 入口(entry)\n   * 入口起点(entry point) 指示 webpack 应该使用哪个模块，来作为构建其内部 依赖图(dependency graph) 的开始。进入入口起点后，webpack 会找出有哪些模块和库是入口起点（直接和间接）依赖的。\n   * 默认值是 ./src/index.js\n   */\n  entry: './src/main.js',\n  /**\n   * 输出(output)\n   * output 属性告诉 webpack 在哪里输出它所创建的 bundle，以及如何命名这些文件。主要输出文件的默认值是 ./dist/main.js，其他生成文件默认放置在 ./dist 文件夹中。\n   */\n   output: {\n    path: resolve('/dist'), // 需要绝对路径\n    filename: '[name].js',\n    publicPath: '/'\n  },\n}\n```\n\n```js\n// build目录 - ./build/webpack-dev.config.js\n/**\n * 开发环境webpack配置\n */\nmodule.exports = {\n  mode: 'development',\n}\n```\n\n```js\n// build目录 - ./build/webpack-prod.config.js\n/**\n * 生产环境webpack配置\n */\nmodule.exports = {\n  mode: 'production',\n}\n```\n\n至此webpack相关基本配置已完成\n\n开始执行打包命令：\n\n```js\nnpm run start\n/**\n * \n * ERROR in ./src/App.vue 1:0\nModule parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> <template>\n|   <div id=\"app\">\n|     <img alt=\"Vue logo\" src=\"./assets/logo.png\">\n @ ./src/main.js 2:0-27 7:17-20\n *\n * /\n```\n\n报错了，大概意思是.vue文件它不能识别，需要借助相关loader处理\n\n##  loader配置\n\n### vue-loader\n\n[vue-loader](https://vue-loader.vuejs.org/zh/)\n\n```js\n// vue-loader因为已经通过cli安装了，所以不需要再安装了\n\n// ./build/webpack-common.config.js - 更新配置\nconst { VueLoaderPlugin } = require('vue-loader')\n\nmodule.exports = {\n  module: {\n    rules: [\n      // ... 其它规则\n      {\n        test: /\\.vue$/,\n        loader: 'vue-loader'\n      }\n    ]\n  },\n  plugins: [\n    // 请确保引入这个插件！\n    new VueLoaderPlugin()\n  ]\n}\n\n// 再次执行打包命令\nnpm run start\n/**\n * \n * ERROR in ./src/App.vue?vue&type=style&index=0&lang=css& (./node_modules/vue-loader/lib??vue-loader-options!./src/App.vue?vue&type=style&index=0&lang=css&) 20:0\nModule parse failed: Unexpected character '#' (20:0)\nFile was processed with these loaders:\n * ./node_modules/vue-loader/lib/index.js\nYou may need an additional loader to handle the result of these loaders.\n| \n| \n> #app {\n*/\n```\n\n又报错了，这次是识别不了图片和css样式，得，继续配置loader\n\n###  css-loader / url-loader\n\n```js\n// css-loader因为已经通过cli安装了，所以不需要再安装了\n\n// ./build/webpack-common.config.js - 更新配置\nmodule.exports = {\n  module: {\n    rules: [\n      // 其他loader\n      {\n        test: /\\.css$/,\n        use: ['vue-style-loader', 'css-loader']\n      },\n      {\n        test: /\\.png$/,\n        loader: 'url-loader',\n      }\n    ]\n  },\n}\n\n// 再次执行打包命令\nnpm run start\n\n// nice 打包成功\n```\n\n####  说明\n\n- css-loader 会找出 CSS 代码中的 @import 和 url() 这样的导入语句，告诉 Webpack 依赖这些资源。同时还支持 CSS Modules、压缩 CSS 等功能。处理完后再把结果交给 style-loader 去处理。\n\n- style-loader 会把 CSS 代码转换成字符串后，注入到 JavaScript 代码中去，通过 JavaScript 去给 DOM 增加样式。\n\n这里使用的vue-style-loader是fork了style-loader的源代码，对vue文件做了一些定制化处理。\n\n##  总结\n\n- 熟悉并实践了一下webpack的基本配置\n- 使用vue-loader加载.vue单文件\n- 使用css-loader/vue-style-loader加载.css文件\n- 使用url-loader加载图片资源文件\n\n其他未解决问题（后续再更新）：\n\n- css预处理文件处理 ，比如less (less-loader)\n- ES6转ES5语法 (babel-loader)\n- 本地运行一个服务并支持热更新 (wepack-dev-server)\n- 字体等文件的加载 (url-loader)\n- 视频等文件的加载 (url-loader)\n- 其他实用的功能（比如vue支持jsx的写法）\n- 线上打包的优化等等\n","slug":"webpack-package","published":1,"date":"2022-09-14T03:12:24.036Z","updated":"2022-09-14T03:12:24.046Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl811yy590002h8w184bzcndq","content":"<p>Tag: <code>学习</code> <code>webapck</code></p>\n<p>打包一个vue应用最方便的还是使用官方提供的vue-cli应用，但是，从长远来说，这不利于我们自身的成长；<br>所以让我们暂时忘却vue-cli，基于webpack，从头一点一点去整合出一个webpack打包配置来；</p>\n<h2 id=\"目标\"><a href=\"#目标\" class=\"headerlink\" title=\"目标\"></a>目标</h2><ul>\n<li>打包一个vue应用，可本地运行调试，可打线上包</li>\n</ul>\n<h2 id=\"前期准备\"><a href=\"#前期准备\" class=\"headerlink\" title=\"前期准备\"></a>前期准备</h2><h3 id=\"学习资料\"><a href=\"#学习资料\" class=\"headerlink\" title=\"学习资料\"></a>学习资料</h3><p><a href=\"http://webpack.wuhaolin.cn/\">深入浅出webpack</a></p>\n<p><a href=\"https://webpack.docschina.org/concepts/\">webpack中文文档</a></p>\n<h3 id=\"webpack核心概念\"><a href=\"#webpack核心概念\" class=\"headerlink\" title=\"webpack核心概念\"></a>webpack核心概念</h3><ul>\n<li>Entry：入口，Webpack 执行构建的第一步将从 Entry 开始，可抽象成输入。</li>\n<li>Module：模块，在 Webpack 里一切皆模块，一个模块对应着一个文件。Webpack 会从配置的 Entry 开始递归找出所有依赖的模块。</li>\n<li>Chunk：代码块，一个 Chunk 由多个模块组合而成，用于代码合并与分割。</li>\n<li>Loader：模块转换器，用于把模块原内容按照需求转换成新内容。</li>\n<li>Plugin：扩展插件，在 Webpack 构建流程中的特定时机注入扩展逻辑来改变构建结果或做你想要的事情。</li>\n<li>Output：输出结果，在 Webpack 经过一系列处理并得出最终想要的代码后输出结果。</li>\n</ul>\n<h3 id=\"运行环境\"><a href=\"#运行环境\" class=\"headerlink\" title=\"运行环境\"></a>运行环境</h3><p><a href=\"https://nodejs.org/zh-cn/\">node-v16.9.1</a><br><a href=\"https://cli.vuejs.org/zh/guide/installation.html\">vue-cli(用于生成一个vue基本工程)</a></p>\n<p>依赖版本相关<br>“webpack”: “^5.64.1”,<br>“webpack-cli”: “^4.9.1”,</p>\n<h3 id=\"技术选型\"><a href=\"#技术选型\" class=\"headerlink\" title=\"技术选型\"></a>技术选型</h3><ul>\n<li><p>开发语言 ( JS (ES5/ES6+) or TS )</p>\n<p>使用ES6，借助Babel</p>\n</li>\n<li><p>css预处理器 ( Less (.less) | Sass (.scss/.sass) | Stylus(.stylus/.styl) | Postcss )</p>\n<p>使用Less</p>\n</li>\n</ul>\n<h3 id=\"一个空vue工程\"><a href=\"#一个空vue工程\" class=\"headerlink\" title=\"一个空vue工程\"></a>一个空vue工程</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 验证cli是否安装成功</span></span><br><span class=\"line\">vue -V <span class=\"comment\">// 3.5.1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Mac/linux系统</span></span><br><span class=\"line\">vue create webpack-practice</span><br><span class=\"line\"><span class=\"comment\">// Windows系统</span></span><br><span class=\"line\">winpty vue.<span class=\"property\">cmd</span> create webpack-practice</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 选择default(babel, eslint)</span></span><br><span class=\"line\">cd webpack-practice</span><br><span class=\"line\">npm run serve</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> *  DONE  Compiled successfully in 3542ms </span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * App running at:</span></span><br><span class=\"line\"><span class=\"comment\">  - Local:   http://localhost:8080/ </span></span><br><span class=\"line\"><span class=\"comment\">  - Network: http://x.x.x.x:8080/</span></span><br><span class=\"line\"><span class=\"comment\">  Note that the development build is not optimized.</span></span><br><span class=\"line\"><span class=\"comment\">  To create a production build, run npm run build.</span></span><br><span class=\"line\"><span class=\"comment\"> * /</span></span><br><span class=\"line\"><span class=\"comment\">// 出现以上字样表示空工程已就绪</span></span><br></pre></td></tr></table></figure>\n\n<p>一切准备就绪，下面开始进入正题</p>\n<h2 id=\"基础依赖及配置\"><a href=\"#基础依赖及配置\" class=\"headerlink\" title=\"基础依赖及配置\"></a>基础依赖及配置</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i webpack webpack-cli -D</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// package.json - add npm script</span></span><br><span class=\"line\"><span class=\"string\">&quot;scripts&quot;</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;start&quot;</span>: <span class=\"string\">&quot;webpack&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;serve:webpack&quot;</span>: <span class=\"string\">&quot;webpack serve&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;build:webpack&quot;</span>: <span class=\"string\">&quot;webpack --mode production&quot;</span></span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 根目录 - ./webpack.config.js</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * webapck配置总入口</span></span><br><span class=\"line\"><span class=\"comment\"> * 将配置分成三份，common/dev/prod</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> merge = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;webpack-merge&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> commonConfig = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./build/webpack-common.config.js&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> developmentConfig = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./build/webpack-dev.config.js&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> productionConfig = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./build/webpack-prod.config.js&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"function\">(<span class=\"params\">env, args</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (args.<span class=\"property\">mode</span> === <span class=\"string\">&#x27;production&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">merge</span>(commonConfig, productionConfig);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">merge</span>(commonConfig, developmentConfig);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// build目录 - ./build/webpack-common.config.js</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * webapck配置文档</span></span><br><span class=\"line\"><span class=\"comment\"> * docs: https://webpack.docschina.org/concepts/</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">resolve</span> (dir) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;..&#x27;</span>, dir)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 入口(entry)</span></span><br><span class=\"line\"><span class=\"comment\">   * 入口起点(entry point) 指示 webpack 应该使用哪个模块，来作为构建其内部 依赖图(dependency graph) 的开始。进入入口起点后，webpack 会找出有哪些模块和库是入口起点（直接和间接）依赖的。</span></span><br><span class=\"line\"><span class=\"comment\">   * 默认值是 ./src/index.js</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">entry</span>: <span class=\"string\">&#x27;./src/main.js&#x27;</span>,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 输出(output)</span></span><br><span class=\"line\"><span class=\"comment\">   * output 属性告诉 webpack 在哪里输出它所创建的 bundle，以及如何命名这些文件。主要输出文件的默认值是 ./dist/main.js，其他生成文件默认放置在 ./dist 文件夹中。</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">   <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;/dist&#x27;</span>), <span class=\"comment\">// 需要绝对路径</span></span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;[name].js&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">publicPath</span>: <span class=\"string\">&#x27;/&#x27;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// build目录 - ./build/webpack-dev.config.js</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 开发环境webpack配置</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">mode</span>: <span class=\"string\">&#x27;development&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// build目录 - ./build/webpack-prod.config.js</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 生产环境webpack配置</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">mode</span>: <span class=\"string\">&#x27;production&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>至此webpack相关基本配置已完成</p>\n<p>开始执行打包命令：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run start</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * ERROR in ./src/App.vue 1:0</span></span><br><span class=\"line\"><span class=\"comment\">Module parse failed: Unexpected token (1:0)</span></span><br><span class=\"line\"><span class=\"comment\">You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders</span></span><br><span class=\"line\"><span class=\"comment\">&gt; &lt;template&gt;</span></span><br><span class=\"line\"><span class=\"comment\">|   &lt;div id=&quot;app&quot;&gt;</span></span><br><span class=\"line\"><span class=\"comment\">|     &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt;</span></span><br><span class=\"line\"><span class=\"comment\"> @ ./src/main.js 2:0-27 7:17-20</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * /</span></span><br></pre></td></tr></table></figure>\n\n<p>报错了，大概意思是.vue文件它不能识别，需要借助相关loader处理</p>\n<h2 id=\"loader配置\"><a href=\"#loader配置\" class=\"headerlink\" title=\"loader配置\"></a>loader配置</h2><h3 id=\"vue-loader\"><a href=\"#vue-loader\" class=\"headerlink\" title=\"vue-loader\"></a>vue-loader</h3><p><a href=\"https://vue-loader.vuejs.org/zh/\">vue-loader</a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// vue-loader因为已经通过cli安装了，所以不需要再安装了</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ./build/webpack-common.config.js - 更新配置</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"title class_\">VueLoaderPlugin</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;vue-loader&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      <span class=\"comment\">// ... 其它规则</span></span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.vue$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;vue-loader&#x27;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// 请确保引入这个插件！</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">VueLoaderPlugin</span>()</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 再次执行打包命令</span></span><br><span class=\"line\">npm run start</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * ERROR in ./src/App.vue?vue&amp;type=style&amp;index=0&amp;lang=css&amp; (./node_modules/vue-loader/lib??vue-loader-options!./src/App.vue?vue&amp;type=style&amp;index=0&amp;lang=css&amp;) 20:0</span></span><br><span class=\"line\"><span class=\"comment\">Module parse failed: Unexpected character &#x27;#&#x27; (20:0)</span></span><br><span class=\"line\"><span class=\"comment\">File was processed with these loaders:</span></span><br><span class=\"line\"><span class=\"comment\"> * ./node_modules/vue-loader/lib/index.js</span></span><br><span class=\"line\"><span class=\"comment\">You may need an additional loader to handle the result of these loaders.</span></span><br><span class=\"line\"><span class=\"comment\">| </span></span><br><span class=\"line\"><span class=\"comment\">| </span></span><br><span class=\"line\"><span class=\"comment\">&gt; #app &#123;</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<p>又报错了，这次是识别不了图片和css样式，得，继续配置loader</p>\n<h3 id=\"css-loader-url-loader\"><a href=\"#css-loader-url-loader\" class=\"headerlink\" title=\"css-loader / url-loader\"></a>css-loader / url-loader</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// css-loader因为已经通过cli安装了，所以不需要再安装了</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ./build/webpack-common.config.js - 更新配置</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      <span class=\"comment\">// 其他loader</span></span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;vue-style-loader&#x27;</span>, <span class=\"string\">&#x27;css-loader&#x27;</span>]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.png$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;url-loader&#x27;</span>,</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 再次执行打包命令</span></span><br><span class=\"line\">npm run start</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// nice 打包成功</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h4><ul>\n<li><p>css-loader 会找出 CSS 代码中的 @import 和 url() 这样的导入语句，告诉 Webpack 依赖这些资源。同时还支持 CSS Modules、压缩 CSS 等功能。处理完后再把结果交给 style-loader 去处理。</p>\n</li>\n<li><p>style-loader 会把 CSS 代码转换成字符串后，注入到 JavaScript 代码中去，通过 JavaScript 去给 DOM 增加样式。</p>\n</li>\n</ul>\n<p>这里使用的vue-style-loader是fork了style-loader的源代码，对vue文件做了一些定制化处理。</p>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><ul>\n<li>熟悉并实践了一下webpack的基本配置</li>\n<li>使用vue-loader加载.vue单文件</li>\n<li>使用css-loader/vue-style-loader加载.css文件</li>\n<li>使用url-loader加载图片资源文件</li>\n</ul>\n<p>其他未解决问题（后续再更新）：</p>\n<ul>\n<li>css预处理文件处理 ，比如less (less-loader)</li>\n<li>ES6转ES5语法 (babel-loader)</li>\n<li>本地运行一个服务并支持热更新 (wepack-dev-server)</li>\n<li>字体等文件的加载 (url-loader)</li>\n<li>视频等文件的加载 (url-loader)</li>\n<li>其他实用的功能（比如vue支持jsx的写法）</li>\n<li>线上打包的优化等等</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p>Tag: <code>学习</code> <code>webapck</code></p>\n<p>打包一个vue应用最方便的还是使用官方提供的vue-cli应用，但是，从长远来说，这不利于我们自身的成长；<br>所以让我们暂时忘却vue-cli，基于webpack，从头一点一点去整合出一个webpack打包配置来；</p>\n<h2 id=\"目标\"><a href=\"#目标\" class=\"headerlink\" title=\"目标\"></a>目标</h2><ul>\n<li>打包一个vue应用，可本地运行调试，可打线上包</li>\n</ul>\n<h2 id=\"前期准备\"><a href=\"#前期准备\" class=\"headerlink\" title=\"前期准备\"></a>前期准备</h2><h3 id=\"学习资料\"><a href=\"#学习资料\" class=\"headerlink\" title=\"学习资料\"></a>学习资料</h3><p><a href=\"http://webpack.wuhaolin.cn/\">深入浅出webpack</a></p>\n<p><a href=\"https://webpack.docschina.org/concepts/\">webpack中文文档</a></p>\n<h3 id=\"webpack核心概念\"><a href=\"#webpack核心概念\" class=\"headerlink\" title=\"webpack核心概念\"></a>webpack核心概念</h3><ul>\n<li>Entry：入口，Webpack 执行构建的第一步将从 Entry 开始，可抽象成输入。</li>\n<li>Module：模块，在 Webpack 里一切皆模块，一个模块对应着一个文件。Webpack 会从配置的 Entry 开始递归找出所有依赖的模块。</li>\n<li>Chunk：代码块，一个 Chunk 由多个模块组合而成，用于代码合并与分割。</li>\n<li>Loader：模块转换器，用于把模块原内容按照需求转换成新内容。</li>\n<li>Plugin：扩展插件，在 Webpack 构建流程中的特定时机注入扩展逻辑来改变构建结果或做你想要的事情。</li>\n<li>Output：输出结果，在 Webpack 经过一系列处理并得出最终想要的代码后输出结果。</li>\n</ul>\n<h3 id=\"运行环境\"><a href=\"#运行环境\" class=\"headerlink\" title=\"运行环境\"></a>运行环境</h3><p><a href=\"https://nodejs.org/zh-cn/\">node-v16.9.1</a><br><a href=\"https://cli.vuejs.org/zh/guide/installation.html\">vue-cli(用于生成一个vue基本工程)</a></p>\n<p>依赖版本相关<br>“webpack”: “^5.64.1”,<br>“webpack-cli”: “^4.9.1”,</p>\n<h3 id=\"技术选型\"><a href=\"#技术选型\" class=\"headerlink\" title=\"技术选型\"></a>技术选型</h3><ul>\n<li><p>开发语言 ( JS (ES5/ES6+) or TS )</p>\n<p>使用ES6，借助Babel</p>\n</li>\n<li><p>css预处理器 ( Less (.less) | Sass (.scss/.sass) | Stylus(.stylus/.styl) | Postcss )</p>\n<p>使用Less</p>\n</li>\n</ul>\n<h3 id=\"一个空vue工程\"><a href=\"#一个空vue工程\" class=\"headerlink\" title=\"一个空vue工程\"></a>一个空vue工程</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 验证cli是否安装成功</span></span><br><span class=\"line\">vue -V <span class=\"comment\">// 3.5.1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Mac/linux系统</span></span><br><span class=\"line\">vue create webpack-practice</span><br><span class=\"line\"><span class=\"comment\">// Windows系统</span></span><br><span class=\"line\">winpty vue.<span class=\"property\">cmd</span> create webpack-practice</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 选择default(babel, eslint)</span></span><br><span class=\"line\">cd webpack-practice</span><br><span class=\"line\">npm run serve</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> *  DONE  Compiled successfully in 3542ms </span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * App running at:</span></span><br><span class=\"line\"><span class=\"comment\">  - Local:   http://localhost:8080/ </span></span><br><span class=\"line\"><span class=\"comment\">  - Network: http://x.x.x.x:8080/</span></span><br><span class=\"line\"><span class=\"comment\">  Note that the development build is not optimized.</span></span><br><span class=\"line\"><span class=\"comment\">  To create a production build, run npm run build.</span></span><br><span class=\"line\"><span class=\"comment\"> * /</span></span><br><span class=\"line\"><span class=\"comment\">// 出现以上字样表示空工程已就绪</span></span><br></pre></td></tr></table></figure>\n\n<p>一切准备就绪，下面开始进入正题</p>\n<h2 id=\"基础依赖及配置\"><a href=\"#基础依赖及配置\" class=\"headerlink\" title=\"基础依赖及配置\"></a>基础依赖及配置</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i webpack webpack-cli -D</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// package.json - add npm script</span></span><br><span class=\"line\"><span class=\"string\">&quot;scripts&quot;</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;start&quot;</span>: <span class=\"string\">&quot;webpack&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;serve:webpack&quot;</span>: <span class=\"string\">&quot;webpack serve&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;build:webpack&quot;</span>: <span class=\"string\">&quot;webpack --mode production&quot;</span></span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 根目录 - ./webpack.config.js</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * webapck配置总入口</span></span><br><span class=\"line\"><span class=\"comment\"> * 将配置分成三份，common/dev/prod</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> merge = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;webpack-merge&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> commonConfig = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./build/webpack-common.config.js&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> developmentConfig = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./build/webpack-dev.config.js&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> productionConfig = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./build/webpack-prod.config.js&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"function\">(<span class=\"params\">env, args</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (args.<span class=\"property\">mode</span> === <span class=\"string\">&#x27;production&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">merge</span>(commonConfig, productionConfig);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">merge</span>(commonConfig, developmentConfig);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// build目录 - ./build/webpack-common.config.js</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * webapck配置文档</span></span><br><span class=\"line\"><span class=\"comment\"> * docs: https://webpack.docschina.org/concepts/</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">resolve</span> (dir) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;..&#x27;</span>, dir)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 入口(entry)</span></span><br><span class=\"line\"><span class=\"comment\">   * 入口起点(entry point) 指示 webpack 应该使用哪个模块，来作为构建其内部 依赖图(dependency graph) 的开始。进入入口起点后，webpack 会找出有哪些模块和库是入口起点（直接和间接）依赖的。</span></span><br><span class=\"line\"><span class=\"comment\">   * 默认值是 ./src/index.js</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">entry</span>: <span class=\"string\">&#x27;./src/main.js&#x27;</span>,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 输出(output)</span></span><br><span class=\"line\"><span class=\"comment\">   * output 属性告诉 webpack 在哪里输出它所创建的 bundle，以及如何命名这些文件。主要输出文件的默认值是 ./dist/main.js，其他生成文件默认放置在 ./dist 文件夹中。</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">   <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;/dist&#x27;</span>), <span class=\"comment\">// 需要绝对路径</span></span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;[name].js&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">publicPath</span>: <span class=\"string\">&#x27;/&#x27;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// build目录 - ./build/webpack-dev.config.js</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 开发环境webpack配置</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">mode</span>: <span class=\"string\">&#x27;development&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// build目录 - ./build/webpack-prod.config.js</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 生产环境webpack配置</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">mode</span>: <span class=\"string\">&#x27;production&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>至此webpack相关基本配置已完成</p>\n<p>开始执行打包命令：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run start</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * ERROR in ./src/App.vue 1:0</span></span><br><span class=\"line\"><span class=\"comment\">Module parse failed: Unexpected token (1:0)</span></span><br><span class=\"line\"><span class=\"comment\">You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders</span></span><br><span class=\"line\"><span class=\"comment\">&gt; &lt;template&gt;</span></span><br><span class=\"line\"><span class=\"comment\">|   &lt;div id=&quot;app&quot;&gt;</span></span><br><span class=\"line\"><span class=\"comment\">|     &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt;</span></span><br><span class=\"line\"><span class=\"comment\"> @ ./src/main.js 2:0-27 7:17-20</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * /</span></span><br></pre></td></tr></table></figure>\n\n<p>报错了，大概意思是.vue文件它不能识别，需要借助相关loader处理</p>\n<h2 id=\"loader配置\"><a href=\"#loader配置\" class=\"headerlink\" title=\"loader配置\"></a>loader配置</h2><h3 id=\"vue-loader\"><a href=\"#vue-loader\" class=\"headerlink\" title=\"vue-loader\"></a>vue-loader</h3><p><a href=\"https://vue-loader.vuejs.org/zh/\">vue-loader</a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// vue-loader因为已经通过cli安装了，所以不需要再安装了</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ./build/webpack-common.config.js - 更新配置</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"title class_\">VueLoaderPlugin</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;vue-loader&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      <span class=\"comment\">// ... 其它规则</span></span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.vue$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;vue-loader&#x27;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// 请确保引入这个插件！</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">VueLoaderPlugin</span>()</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 再次执行打包命令</span></span><br><span class=\"line\">npm run start</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * ERROR in ./src/App.vue?vue&amp;type=style&amp;index=0&amp;lang=css&amp; (./node_modules/vue-loader/lib??vue-loader-options!./src/App.vue?vue&amp;type=style&amp;index=0&amp;lang=css&amp;) 20:0</span></span><br><span class=\"line\"><span class=\"comment\">Module parse failed: Unexpected character &#x27;#&#x27; (20:0)</span></span><br><span class=\"line\"><span class=\"comment\">File was processed with these loaders:</span></span><br><span class=\"line\"><span class=\"comment\"> * ./node_modules/vue-loader/lib/index.js</span></span><br><span class=\"line\"><span class=\"comment\">You may need an additional loader to handle the result of these loaders.</span></span><br><span class=\"line\"><span class=\"comment\">| </span></span><br><span class=\"line\"><span class=\"comment\">| </span></span><br><span class=\"line\"><span class=\"comment\">&gt; #app &#123;</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<p>又报错了，这次是识别不了图片和css样式，得，继续配置loader</p>\n<h3 id=\"css-loader-url-loader\"><a href=\"#css-loader-url-loader\" class=\"headerlink\" title=\"css-loader / url-loader\"></a>css-loader / url-loader</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// css-loader因为已经通过cli安装了，所以不需要再安装了</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ./build/webpack-common.config.js - 更新配置</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      <span class=\"comment\">// 其他loader</span></span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;vue-style-loader&#x27;</span>, <span class=\"string\">&#x27;css-loader&#x27;</span>]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.png$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;url-loader&#x27;</span>,</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 再次执行打包命令</span></span><br><span class=\"line\">npm run start</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// nice 打包成功</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h4><ul>\n<li><p>css-loader 会找出 CSS 代码中的 @import 和 url() 这样的导入语句，告诉 Webpack 依赖这些资源。同时还支持 CSS Modules、压缩 CSS 等功能。处理完后再把结果交给 style-loader 去处理。</p>\n</li>\n<li><p>style-loader 会把 CSS 代码转换成字符串后，注入到 JavaScript 代码中去，通过 JavaScript 去给 DOM 增加样式。</p>\n</li>\n</ul>\n<p>这里使用的vue-style-loader是fork了style-loader的源代码，对vue文件做了一些定制化处理。</p>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><ul>\n<li>熟悉并实践了一下webpack的基本配置</li>\n<li>使用vue-loader加载.vue单文件</li>\n<li>使用css-loader/vue-style-loader加载.css文件</li>\n<li>使用url-loader加载图片资源文件</li>\n</ul>\n<p>其他未解决问题（后续再更新）：</p>\n<ul>\n<li>css预处理文件处理 ，比如less (less-loader)</li>\n<li>ES6转ES5语法 (babel-loader)</li>\n<li>本地运行一个服务并支持热更新 (wepack-dev-server)</li>\n<li>字体等文件的加载 (url-loader)</li>\n<li>视频等文件的加载 (url-loader)</li>\n<li>其他实用的功能（比如vue支持jsx的写法）</li>\n<li>线上打包的优化等等</li>\n</ul>\n"},{"title":"【解决方案】前端换肤方案","_content":"\n| 方法 | 特点 | 兼容性 | 推荐度 |\n| ---- | ---- | ---- | ---- |\n| 利用class 命名空间 | 最简单的换肤方案 |  |  |\n| 准备多套CSS主题 | 最常用 |  | 推荐 |\n| 动态换肤 | 支持浏览器热换肤，最酷炫 |  |  |\n| less在线编译实现 | | | 不推荐 |\n| CSS变量换肤 | 不考虑IE，最佳换肤方式 | 使用css-vars-ponyfill解决兼容性问题 | 推荐 |\n\n##  利用class 命名空间\n\n```html\n\n<style>\n.red-theme p {\n  color: red\n}\n\n.blue-theme p {\n  color: blue\n｝\n</style>\n\n<body class=\"red-theme\">\n  <p> 这里是红色主题 </p>\n  ...\n</body>\n```\n\n## 准备多套CSS主题\n\n```css\n/*theme-default.css*/\np {\n  color: #333\n}\n```\n\n```css\n/* theme-red.css */\np {\n  color: #red\n}\n```\n\n页面加载后，根据用户需求加载不同的样式列表\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  ...\n  <link id=\"themeLink\" type=\"text/css\" rel=\"stylesheet\" href=\"./css/multipleTheme/light.css\" />\n</head>\n<body>\n  <p>light主题显示蓝字，dark主题显示红字</p>\n  <button onclick=\"changeTheme()\">切换主题</button>\n  <script>\n    let currentTheme = 'light';\n\n    function getTheme () {\n      if (currentTheme === 'light') {\n        currentTheme = 'dark';\n      } else {\n        currentTheme = 'light';\n      }\n      return currentTheme;\n    }\n    \n    function changeTheme () {\n      const ThemeMap = {\n        'light': './css/multipleTheme/light.css',\n        'dark': './css/multipleTheme/dark.css'\n      };\n      const themeLink = document.querySelector('#themeLink');\n      themeLink.href = ThemeMap[getTheme()];\n    }\n  </script>\n</body>\n</html>\n```\n\n有时候需要保存用户使用的主题，可以通过如下方式：\n```\n利用路由标记\n利用cookie标记\n利用localstorage\n保存到后端服务器\n```\n\n优化点：\n利用CSS预处理生成多套主题样式\n\n## 动态换肤\n\n这是element ui中的换肤方案，支持浏览器热换肤。生成一套主题， 将主题配色配置写在js中，在浏览器中用js动态修改style标签覆盖原有的CSS。\n\n1. 先把默认主题文件中涉及到颜色的 CSS 值替换成关键词\n2. 根据用户选择的主题色生成一系列对应的颜色值\n3. 把关键词再换回刚刚生成的相应的颜色值\n4. 直接在页面上加 style 标签，把生成的样式填进去\n\n### 先把默认主题文件中涉及到颜色的 CSS 值替换成关键词\n\n```js\n// https://github.com/ElementUI/theme-preview/blob/master/src/app.vue#L250-L274\ngetStyleTemplate(data) {\n  const colorMap = {\n    '#20a0ff': 'primary',\n    '#0190fe': 'secondary',\n    '#fbfdff': 'darkWhite',\n    '#1f2d3d': 'baseBlack',\n    '#324157': 'lightBlack',\n    '#48576a': 'extraLightBlack',\n    '#8391a5': 'baseSilver',\n    '#97a8be': 'lightSilver',\n    '#bfcbd9': 'extraLightSilver',\n    '#d1dbe5': 'baseGray',\n    '#e4e8f1': 'lightGray',\n    '#eef1f6': 'extraLightGray',\n    '#1d90e6': 'buttonActive',\n    '#4db3ff': 'buttonHover',\n    '#dfe6ec': 'tableBorder',\n    '#d2ecff': 'datepickerInRange',\n    '#afddff': 'datepickerInRangeHover',\n    '#1c8de0': 'selectOptionSelected',\n    '#edf7ff': 'lightBackground'\n  };\n  Object.keys(colorMap).forEach(key => {\n    const value = colorMap[key];\n    data = data.replace(new RegExp(key, 'ig'), value);\n  });\n  return data;\n}\n```\n\n### 根据用户选择的主题色生成一系列对应的颜色值\n\n```json\n// https://github.com/ElementUI/theme-preview/blob/master/src/utils/formula.json\n{\n  \"secondary\": \"color(primary s(99%) l(*0.9))\",\n\n  \"darkWhite\": \"color(#fff blend(primary 2%))\",\n\n  \"baseBlack\": \"color(primary h(+6) s(33%) l(18%))\",\n  \"lightBlack\": \"color(baseBlack h(+5) s(27%) l(27%))\",\n  \"extraLightBlack\": \"color(baseBlack h(+2) s(19%) l(35%))\",\n  \"baseSilver\": \"color(baseBlack h(+3) s(16%) l(58%))\",\n  \"lightSilver\": \"color(baseBlack h(+3) s(23%) l(67%))\",\n  \"extraLightSilver\": \"color(baseBlack s(26%) l(80%))\",\n  \"baseGray\": \"color(baseBlack s(28%) l(86%))\",\n  \"lightGray\": \"color(baseBlack h(+10) s(33%) l(92%))\",\n  \"extraLightGray\": \"color(baseBlack h(+6) s(33%) l(95%))\",\n\n  \"buttonActive\": \"color(primary shade(10%))\",\n  \"buttonHover\": \"color(primary tint(20%))\",\n\n  \"tableBorder\": \"color(extraLightSilver h(-3) s(27%) l(90%))\",\n\n  \"datepickerInRange\": \"color(primary tint(80%))\",\n  \"datepickerInRangeHover\": \"color(primary tint(64%))\",\n\n  \"selectOptionSelected\": \"color(primary shade(12%))\",\n\n  \"lightBackground\": \"color(primary tint(92%))\",\n  \"emptyText\": \"color(primary s(16%) l(44%))\"\n}\n```\n\n### 把关键词再换回刚刚生成的相应的颜色值\n\n```js\n// https://github.com/ElementUI/theme-preview/blob/master/src/utils/color.js\nimport color from 'css-color-function';\nimport formula from './formula.json';\n\nconst generateColors = primary => {\n  let colors = {};\n  let baseBlack = '';\n  let extraLightBlack = '';\n  let extraLightSilver = '';\n\n  Object.keys(formula).forEach(key => {\n    const value = formula[key]\n      .replace(/primary/g, primary)\n      .replace(/baseBlack/g, baseBlack)\n      .replace(/extraLightBlack/g, extraLightBlack)\n      .replace(/extraLightSilver/g, extraLightSilver);\n    colors[key] = color.convert(value);\n    if (key === 'baseBlack') {\n      baseBlack = colors[key];\n    }\n    if (key === 'extraLightBlack') {\n      extraLightBlack = colors[key];\n    }\n    if (key === 'extraLightSilver') {\n      extraLightSilver = colors[key];\n    }\n  });\n  return colors;\n};\n\nexport default generateColors;\n```\n\n### 直接在页面上加 style 标签，把生成的样式填进去\n\n```js\n// https://github.com/ElementUI/theme-preview/blob/master/src/app.vue#L198-L211\nwriteNewStyle() {\n  let cssText = this.originalStyle;\n  Object.keys(this.colors).forEach(key => {\n    cssText = cssText.replace(new RegExp('(:|\\\\s+)' + key, 'g'), '$1' + this.colors[key]);\n  });\n  if (this.originalStylesheetCount === document.styleSheets.length) {\n    const style = document.createElement('style');\n    style.innerText = cssText;\n    document.head.appendChild(style);\n  } else {\n    document.head.lastChild.innerText = cssText;\n  }\n}\n```\n\n## less在线编译实现\n\n不推荐\n\n## CSS变量实现\n\n[CSS Variables (Custom Properties)](https://caniuse.com/?search=css%20variables)\n\n```css\n/* variable.css */\n/* 默认变量 */\n:root {\n  --primary: blue;\n}\n\n/* 亮色变量 */\n[data-theme=\"light\"] {\n  --primary: green;\n}\n\n/* 深色变量 */\n[data-theme=\"dark\"] {\n  --primary: red;\n}\n```\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\" data-theme=\"default\">\n<head>\n  ...\n  <title>Css Variable</title>\n\n  <link id=\"themeLink\" type=\"text/css\" rel=\"stylesheet\" href=\"./css/cssVariable/variable.css\" />\n  <style>\n    p {\n      color: var(--primary);\n    }\n  </style>\n</head>\n<body>\n  <p>默认主题为蓝色，light主题显示绿字，dark主题显示红字</p>\n  <button onclick=\"changeTheme()\">切换主题</button>\n  <script>\n    const themeList = ['default', 'light', 'dark'];\n    let currentThemeIndex = 0;\n    function changeTheme () {\n      const htmlNode = document.querySelector('html');\n      currentThemeIndex++;\n      if (currentThemeIndex > themeList.length - 1) {\n        currentThemeIndex = 0;\n      }\n      htmlNode.setAttribute('data-theme', themeList[currentThemeIndex]);\n    }\n  </script>\n</body>\n</html>\n```\n\n### css变量兼容方案\n\n首先需要建一个存放公共css变量的js文件，将需要定义的css变量存放到该js文件，例如（variable.js）\n\n```js\n//浅色\nexport const lightTheme = { \n  '--primary': 'green'\n};\n// 深色\nexport const darkTheme = { \n  '--primary': 'red'\n};\n```\n\n页面使用css变量，例如：\n```html\n<style lang=\"scss\"> \n.text { \n  color: var(--primary);\n}\n</style>\n```\n\n安装css-vars-ponyfill 插件\n\n「css-vars-ponyfill」 官方概念：在传统浏览器和现代浏览器中为CSS自定义属性(又名“CSS变量”)提供客户端支持的ponyfill。 （具体用法与概念请查阅官方网站：[css-vars-ponyfill](https://github.com/JofunLiang/vue-project-themable-demo)）\n\n封装切换主题的js，在main.js做初始化调用\n\n```js\n// theme.js\nimport { lightTheme, darkTheme } from \"../src/assets/js/variable\";\nimport cssVars from \"css-vars-ponyfill\";\n\nexport const initTheme = (theme) => {\n  document.documentElement.setAttribute(\"data-theme\", theme ? \"light\" : \"dark\"); \n  cssVars({\n    watch: true, // 当添加，删除或修改其<link>或<style>元素的禁用或href属性时，ponyfill将自行调用    \n    variables: theme ? lightTheme : darkTheme, // variables 自定义属性名/值对的集合\n    onlyLegacy: false, // false  默认将css变量编译为浏览器识别的css样式  true 当浏览器不支持css变量的时候将css变量编译为识别的css\n  });\n};\n```\n","source":"_posts/website-skin-project.md","raw":"---\ntitle: 【解决方案】前端换肤方案\n---\n\n| 方法 | 特点 | 兼容性 | 推荐度 |\n| ---- | ---- | ---- | ---- |\n| 利用class 命名空间 | 最简单的换肤方案 |  |  |\n| 准备多套CSS主题 | 最常用 |  | 推荐 |\n| 动态换肤 | 支持浏览器热换肤，最酷炫 |  |  |\n| less在线编译实现 | | | 不推荐 |\n| CSS变量换肤 | 不考虑IE，最佳换肤方式 | 使用css-vars-ponyfill解决兼容性问题 | 推荐 |\n\n##  利用class 命名空间\n\n```html\n\n<style>\n.red-theme p {\n  color: red\n}\n\n.blue-theme p {\n  color: blue\n｝\n</style>\n\n<body class=\"red-theme\">\n  <p> 这里是红色主题 </p>\n  ...\n</body>\n```\n\n## 准备多套CSS主题\n\n```css\n/*theme-default.css*/\np {\n  color: #333\n}\n```\n\n```css\n/* theme-red.css */\np {\n  color: #red\n}\n```\n\n页面加载后，根据用户需求加载不同的样式列表\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  ...\n  <link id=\"themeLink\" type=\"text/css\" rel=\"stylesheet\" href=\"./css/multipleTheme/light.css\" />\n</head>\n<body>\n  <p>light主题显示蓝字，dark主题显示红字</p>\n  <button onclick=\"changeTheme()\">切换主题</button>\n  <script>\n    let currentTheme = 'light';\n\n    function getTheme () {\n      if (currentTheme === 'light') {\n        currentTheme = 'dark';\n      } else {\n        currentTheme = 'light';\n      }\n      return currentTheme;\n    }\n    \n    function changeTheme () {\n      const ThemeMap = {\n        'light': './css/multipleTheme/light.css',\n        'dark': './css/multipleTheme/dark.css'\n      };\n      const themeLink = document.querySelector('#themeLink');\n      themeLink.href = ThemeMap[getTheme()];\n    }\n  </script>\n</body>\n</html>\n```\n\n有时候需要保存用户使用的主题，可以通过如下方式：\n```\n利用路由标记\n利用cookie标记\n利用localstorage\n保存到后端服务器\n```\n\n优化点：\n利用CSS预处理生成多套主题样式\n\n## 动态换肤\n\n这是element ui中的换肤方案，支持浏览器热换肤。生成一套主题， 将主题配色配置写在js中，在浏览器中用js动态修改style标签覆盖原有的CSS。\n\n1. 先把默认主题文件中涉及到颜色的 CSS 值替换成关键词\n2. 根据用户选择的主题色生成一系列对应的颜色值\n3. 把关键词再换回刚刚生成的相应的颜色值\n4. 直接在页面上加 style 标签，把生成的样式填进去\n\n### 先把默认主题文件中涉及到颜色的 CSS 值替换成关键词\n\n```js\n// https://github.com/ElementUI/theme-preview/blob/master/src/app.vue#L250-L274\ngetStyleTemplate(data) {\n  const colorMap = {\n    '#20a0ff': 'primary',\n    '#0190fe': 'secondary',\n    '#fbfdff': 'darkWhite',\n    '#1f2d3d': 'baseBlack',\n    '#324157': 'lightBlack',\n    '#48576a': 'extraLightBlack',\n    '#8391a5': 'baseSilver',\n    '#97a8be': 'lightSilver',\n    '#bfcbd9': 'extraLightSilver',\n    '#d1dbe5': 'baseGray',\n    '#e4e8f1': 'lightGray',\n    '#eef1f6': 'extraLightGray',\n    '#1d90e6': 'buttonActive',\n    '#4db3ff': 'buttonHover',\n    '#dfe6ec': 'tableBorder',\n    '#d2ecff': 'datepickerInRange',\n    '#afddff': 'datepickerInRangeHover',\n    '#1c8de0': 'selectOptionSelected',\n    '#edf7ff': 'lightBackground'\n  };\n  Object.keys(colorMap).forEach(key => {\n    const value = colorMap[key];\n    data = data.replace(new RegExp(key, 'ig'), value);\n  });\n  return data;\n}\n```\n\n### 根据用户选择的主题色生成一系列对应的颜色值\n\n```json\n// https://github.com/ElementUI/theme-preview/blob/master/src/utils/formula.json\n{\n  \"secondary\": \"color(primary s(99%) l(*0.9))\",\n\n  \"darkWhite\": \"color(#fff blend(primary 2%))\",\n\n  \"baseBlack\": \"color(primary h(+6) s(33%) l(18%))\",\n  \"lightBlack\": \"color(baseBlack h(+5) s(27%) l(27%))\",\n  \"extraLightBlack\": \"color(baseBlack h(+2) s(19%) l(35%))\",\n  \"baseSilver\": \"color(baseBlack h(+3) s(16%) l(58%))\",\n  \"lightSilver\": \"color(baseBlack h(+3) s(23%) l(67%))\",\n  \"extraLightSilver\": \"color(baseBlack s(26%) l(80%))\",\n  \"baseGray\": \"color(baseBlack s(28%) l(86%))\",\n  \"lightGray\": \"color(baseBlack h(+10) s(33%) l(92%))\",\n  \"extraLightGray\": \"color(baseBlack h(+6) s(33%) l(95%))\",\n\n  \"buttonActive\": \"color(primary shade(10%))\",\n  \"buttonHover\": \"color(primary tint(20%))\",\n\n  \"tableBorder\": \"color(extraLightSilver h(-3) s(27%) l(90%))\",\n\n  \"datepickerInRange\": \"color(primary tint(80%))\",\n  \"datepickerInRangeHover\": \"color(primary tint(64%))\",\n\n  \"selectOptionSelected\": \"color(primary shade(12%))\",\n\n  \"lightBackground\": \"color(primary tint(92%))\",\n  \"emptyText\": \"color(primary s(16%) l(44%))\"\n}\n```\n\n### 把关键词再换回刚刚生成的相应的颜色值\n\n```js\n// https://github.com/ElementUI/theme-preview/blob/master/src/utils/color.js\nimport color from 'css-color-function';\nimport formula from './formula.json';\n\nconst generateColors = primary => {\n  let colors = {};\n  let baseBlack = '';\n  let extraLightBlack = '';\n  let extraLightSilver = '';\n\n  Object.keys(formula).forEach(key => {\n    const value = formula[key]\n      .replace(/primary/g, primary)\n      .replace(/baseBlack/g, baseBlack)\n      .replace(/extraLightBlack/g, extraLightBlack)\n      .replace(/extraLightSilver/g, extraLightSilver);\n    colors[key] = color.convert(value);\n    if (key === 'baseBlack') {\n      baseBlack = colors[key];\n    }\n    if (key === 'extraLightBlack') {\n      extraLightBlack = colors[key];\n    }\n    if (key === 'extraLightSilver') {\n      extraLightSilver = colors[key];\n    }\n  });\n  return colors;\n};\n\nexport default generateColors;\n```\n\n### 直接在页面上加 style 标签，把生成的样式填进去\n\n```js\n// https://github.com/ElementUI/theme-preview/blob/master/src/app.vue#L198-L211\nwriteNewStyle() {\n  let cssText = this.originalStyle;\n  Object.keys(this.colors).forEach(key => {\n    cssText = cssText.replace(new RegExp('(:|\\\\s+)' + key, 'g'), '$1' + this.colors[key]);\n  });\n  if (this.originalStylesheetCount === document.styleSheets.length) {\n    const style = document.createElement('style');\n    style.innerText = cssText;\n    document.head.appendChild(style);\n  } else {\n    document.head.lastChild.innerText = cssText;\n  }\n}\n```\n\n## less在线编译实现\n\n不推荐\n\n## CSS变量实现\n\n[CSS Variables (Custom Properties)](https://caniuse.com/?search=css%20variables)\n\n```css\n/* variable.css */\n/* 默认变量 */\n:root {\n  --primary: blue;\n}\n\n/* 亮色变量 */\n[data-theme=\"light\"] {\n  --primary: green;\n}\n\n/* 深色变量 */\n[data-theme=\"dark\"] {\n  --primary: red;\n}\n```\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\" data-theme=\"default\">\n<head>\n  ...\n  <title>Css Variable</title>\n\n  <link id=\"themeLink\" type=\"text/css\" rel=\"stylesheet\" href=\"./css/cssVariable/variable.css\" />\n  <style>\n    p {\n      color: var(--primary);\n    }\n  </style>\n</head>\n<body>\n  <p>默认主题为蓝色，light主题显示绿字，dark主题显示红字</p>\n  <button onclick=\"changeTheme()\">切换主题</button>\n  <script>\n    const themeList = ['default', 'light', 'dark'];\n    let currentThemeIndex = 0;\n    function changeTheme () {\n      const htmlNode = document.querySelector('html');\n      currentThemeIndex++;\n      if (currentThemeIndex > themeList.length - 1) {\n        currentThemeIndex = 0;\n      }\n      htmlNode.setAttribute('data-theme', themeList[currentThemeIndex]);\n    }\n  </script>\n</body>\n</html>\n```\n\n### css变量兼容方案\n\n首先需要建一个存放公共css变量的js文件，将需要定义的css变量存放到该js文件，例如（variable.js）\n\n```js\n//浅色\nexport const lightTheme = { \n  '--primary': 'green'\n};\n// 深色\nexport const darkTheme = { \n  '--primary': 'red'\n};\n```\n\n页面使用css变量，例如：\n```html\n<style lang=\"scss\"> \n.text { \n  color: var(--primary);\n}\n</style>\n```\n\n安装css-vars-ponyfill 插件\n\n「css-vars-ponyfill」 官方概念：在传统浏览器和现代浏览器中为CSS自定义属性(又名“CSS变量”)提供客户端支持的ponyfill。 （具体用法与概念请查阅官方网站：[css-vars-ponyfill](https://github.com/JofunLiang/vue-project-themable-demo)）\n\n封装切换主题的js，在main.js做初始化调用\n\n```js\n// theme.js\nimport { lightTheme, darkTheme } from \"../src/assets/js/variable\";\nimport cssVars from \"css-vars-ponyfill\";\n\nexport const initTheme = (theme) => {\n  document.documentElement.setAttribute(\"data-theme\", theme ? \"light\" : \"dark\"); \n  cssVars({\n    watch: true, // 当添加，删除或修改其<link>或<style>元素的禁用或href属性时，ponyfill将自行调用    \n    variables: theme ? lightTheme : darkTheme, // variables 自定义属性名/值对的集合\n    onlyLegacy: false, // false  默认将css变量编译为浏览器识别的css样式  true 当浏览器不支持css变量的时候将css变量编译为识别的css\n  });\n};\n```\n","slug":"website-skin-project","published":1,"date":"2022-09-14T03:12:24.050Z","updated":"2022-09-14T03:16:59.056Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl811yy5b0003h8w1f1gl4jck","content":"<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>特点</th>\n<th>兼容性</th>\n<th>推荐度</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>利用class 命名空间</td>\n<td>最简单的换肤方案</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>准备多套CSS主题</td>\n<td>最常用</td>\n<td></td>\n<td>推荐</td>\n</tr>\n<tr>\n<td>动态换肤</td>\n<td>支持浏览器热换肤，最酷炫</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>less在线编译实现</td>\n<td></td>\n<td></td>\n<td>不推荐</td>\n</tr>\n<tr>\n<td>CSS变量换肤</td>\n<td>不考虑IE，最佳换肤方式</td>\n<td>使用css-vars-ponyfill解决兼容性问题</td>\n<td>推荐</td>\n</tr>\n</tbody></table>\n<h2 id=\"利用class-命名空间\"><a href=\"#利用class-命名空间\" class=\"headerlink\" title=\"利用class 命名空间\"></a>利用class 命名空间</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"selector-class\">.red-theme</span> <span class=\"selector-tag\">p</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">  <span class=\"attribute\">color</span>: red</span></span><br><span class=\"line\"><span class=\"language-css\">&#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"selector-class\">.blue-theme</span> <span class=\"selector-tag\">p</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">  <span class=\"attribute\">color</span>: blue</span></span><br><span class=\"line\"><span class=\"language-css\">｝</span></span><br><span class=\"line\"><span class=\"language-css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;red-theme&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span> 这里是红色主题 <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"准备多套CSS主题\"><a href=\"#准备多套CSS主题\" class=\"headerlink\" title=\"准备多套CSS主题\"></a>准备多套CSS主题</h2><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*theme-default.css*/</span></span><br><span class=\"line\"><span class=\"selector-tag\">p</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#333</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* theme-red.css */</span></span><br><span class=\"line\"><span class=\"selector-tag\">p</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: #red</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>页面加载后，根据用户需求加载不同的样式列表</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;themeLink&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/css&quot;</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;./css/multipleTheme/light.css&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>light主题显示蓝字，dark主题显示红字<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;changeTheme()&quot;</span>&gt;</span>切换主题<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> currentTheme = <span class=\"string\">&#x27;light&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">getTheme</span> () &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">if</span> (currentTheme === <span class=\"string\">&#x27;light&#x27;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        currentTheme = <span class=\"string\">&#x27;dark&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        currentTheme = <span class=\"string\">&#x27;light&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> currentTheme;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">changeTheme</span> () &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> <span class=\"title class_\">ThemeMap</span> = &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"string\">&#x27;light&#x27;</span>: <span class=\"string\">&#x27;./css/multipleTheme/light.css&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"string\">&#x27;dark&#x27;</span>: <span class=\"string\">&#x27;./css/multipleTheme/dark.css&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> themeLink = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;#themeLink&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      themeLink.<span class=\"property\">href</span> = <span class=\"title class_\">ThemeMap</span>[<span class=\"title function_\">getTheme</span>()];</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>有时候需要保存用户使用的主题，可以通过如下方式：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">利用路由标记</span><br><span class=\"line\">利用cookie标记</span><br><span class=\"line\">利用localstorage</span><br><span class=\"line\">保存到后端服务器</span><br></pre></td></tr></table></figure>\n\n<p>优化点：<br>利用CSS预处理生成多套主题样式</p>\n<h2 id=\"动态换肤\"><a href=\"#动态换肤\" class=\"headerlink\" title=\"动态换肤\"></a>动态换肤</h2><p>这是element ui中的换肤方案，支持浏览器热换肤。生成一套主题， 将主题配色配置写在js中，在浏览器中用js动态修改style标签覆盖原有的CSS。</p>\n<ol>\n<li>先把默认主题文件中涉及到颜色的 CSS 值替换成关键词</li>\n<li>根据用户选择的主题色生成一系列对应的颜色值</li>\n<li>把关键词再换回刚刚生成的相应的颜色值</li>\n<li>直接在页面上加 style 标签，把生成的样式填进去</li>\n</ol>\n<h3 id=\"先把默认主题文件中涉及到颜色的-CSS-值替换成关键词\"><a href=\"#先把默认主题文件中涉及到颜色的-CSS-值替换成关键词\" class=\"headerlink\" title=\"先把默认主题文件中涉及到颜色的 CSS 值替换成关键词\"></a>先把默认主题文件中涉及到颜色的 CSS 值替换成关键词</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// https://github.com/ElementUI/theme-preview/blob/master/src/app.vue#L250-L274</span></span><br><span class=\"line\"><span class=\"title function_\">getStyleTemplate</span>(<span class=\"params\">data</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> colorMap = &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;#20a0ff&#x27;</span>: <span class=\"string\">&#x27;primary&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#0190fe&#x27;</span>: <span class=\"string\">&#x27;secondary&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#fbfdff&#x27;</span>: <span class=\"string\">&#x27;darkWhite&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#1f2d3d&#x27;</span>: <span class=\"string\">&#x27;baseBlack&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#324157&#x27;</span>: <span class=\"string\">&#x27;lightBlack&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#48576a&#x27;</span>: <span class=\"string\">&#x27;extraLightBlack&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#8391a5&#x27;</span>: <span class=\"string\">&#x27;baseSilver&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#97a8be&#x27;</span>: <span class=\"string\">&#x27;lightSilver&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#bfcbd9&#x27;</span>: <span class=\"string\">&#x27;extraLightSilver&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#d1dbe5&#x27;</span>: <span class=\"string\">&#x27;baseGray&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#e4e8f1&#x27;</span>: <span class=\"string\">&#x27;lightGray&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#eef1f6&#x27;</span>: <span class=\"string\">&#x27;extraLightGray&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#1d90e6&#x27;</span>: <span class=\"string\">&#x27;buttonActive&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#4db3ff&#x27;</span>: <span class=\"string\">&#x27;buttonHover&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#dfe6ec&#x27;</span>: <span class=\"string\">&#x27;tableBorder&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#d2ecff&#x27;</span>: <span class=\"string\">&#x27;datepickerInRange&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#afddff&#x27;</span>: <span class=\"string\">&#x27;datepickerInRangeHover&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#1c8de0&#x27;</span>: <span class=\"string\">&#x27;selectOptionSelected&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#edf7ff&#x27;</span>: <span class=\"string\">&#x27;lightBackground&#x27;</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(colorMap).<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> value = colorMap[key];</span><br><span class=\"line\">    data = data.<span class=\"title function_\">replace</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(key, <span class=\"string\">&#x27;ig&#x27;</span>), value);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> data;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"根据用户选择的主题色生成一系列对应的颜色值\"><a href=\"#根据用户选择的主题色生成一系列对应的颜色值\" class=\"headerlink\" title=\"根据用户选择的主题色生成一系列对应的颜色值\"></a>根据用户选择的主题色生成一系列对应的颜色值</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// https://github.com/ElementUI/theme-preview/blob/master/src/utils/formula.json</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;secondary&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary s(99%) l(*0.9))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">&quot;darkWhite&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(#fff blend(primary 2%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">&quot;baseBlack&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary h(+6) s(33%) l(18%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;lightBlack&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack h(+5) s(27%) l(27%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;extraLightBlack&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack h(+2) s(19%) l(35%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;baseSilver&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack h(+3) s(16%) l(58%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;lightSilver&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack h(+3) s(23%) l(67%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;extraLightSilver&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack s(26%) l(80%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;baseGray&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack s(28%) l(86%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;lightGray&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack h(+10) s(33%) l(92%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;extraLightGray&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack h(+6) s(33%) l(95%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">&quot;buttonActive&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary shade(10%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;buttonHover&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary tint(20%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">&quot;tableBorder&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(extraLightSilver h(-3) s(27%) l(90%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">&quot;datepickerInRange&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary tint(80%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;datepickerInRangeHover&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary tint(64%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">&quot;selectOptionSelected&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary shade(12%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">&quot;lightBackground&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary tint(92%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;emptyText&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary s(16%) l(44%))&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"把关键词再换回刚刚生成的相应的颜色值\"><a href=\"#把关键词再换回刚刚生成的相应的颜色值\" class=\"headerlink\" title=\"把关键词再换回刚刚生成的相应的颜色值\"></a>把关键词再换回刚刚生成的相应的颜色值</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// https://github.com/ElementUI/theme-preview/blob/master/src/utils/color.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> color <span class=\"keyword\">from</span> <span class=\"string\">&#x27;css-color-function&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> formula <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./formula.json&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">generateColors</span> = primary =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> colors = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> baseBlack = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> extraLightBlack = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> extraLightSilver = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(formula).<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> value = formula[key]</span><br><span class=\"line\">      .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/primary/g</span>, primary)</span><br><span class=\"line\">      .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/baseBlack/g</span>, baseBlack)</span><br><span class=\"line\">      .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/extraLightBlack/g</span>, extraLightBlack)</span><br><span class=\"line\">      .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/extraLightSilver/g</span>, extraLightSilver);</span><br><span class=\"line\">    colors[key] = color.<span class=\"title function_\">convert</span>(value);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key === <span class=\"string\">&#x27;baseBlack&#x27;</span>) &#123;</span><br><span class=\"line\">      baseBlack = colors[key];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key === <span class=\"string\">&#x27;extraLightBlack&#x27;</span>) &#123;</span><br><span class=\"line\">      extraLightBlack = colors[key];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key === <span class=\"string\">&#x27;extraLightSilver&#x27;</span>) &#123;</span><br><span class=\"line\">      extraLightSilver = colors[key];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> colors;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> generateColors;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"直接在页面上加-style-标签，把生成的样式填进去\"><a href=\"#直接在页面上加-style-标签，把生成的样式填进去\" class=\"headerlink\" title=\"直接在页面上加 style 标签，把生成的样式填进去\"></a>直接在页面上加 style 标签，把生成的样式填进去</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// https://github.com/ElementUI/theme-preview/blob/master/src/app.vue#L198-L211</span></span><br><span class=\"line\"><span class=\"title function_\">writeNewStyle</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> cssText = <span class=\"variable language_\">this</span>.<span class=\"property\">originalStyle</span>;</span><br><span class=\"line\">  <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">colors</span>).<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> &#123;</span><br><span class=\"line\">    cssText = cssText.<span class=\"title function_\">replace</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&#x27;(:|\\\\s+)&#x27;</span> + key, <span class=\"string\">&#x27;g&#x27;</span>), <span class=\"string\">&#x27;$1&#x27;</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">colors</span>[key]);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">originalStylesheetCount</span> === <span class=\"variable language_\">document</span>.<span class=\"property\">styleSheets</span>.<span class=\"property\">length</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> style = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;style&#x27;</span>);</span><br><span class=\"line\">    style.<span class=\"property\">innerText</span> = cssText;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"property\">head</span>.<span class=\"title function_\">appendChild</span>(style);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"property\">head</span>.<span class=\"property\">lastChild</span>.<span class=\"property\">innerText</span> = cssText;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"less在线编译实现\"><a href=\"#less在线编译实现\" class=\"headerlink\" title=\"less在线编译实现\"></a>less在线编译实现</h2><p>不推荐</p>\n<h2 id=\"CSS变量实现\"><a href=\"#CSS变量实现\" class=\"headerlink\" title=\"CSS变量实现\"></a>CSS变量实现</h2><p><a href=\"https://caniuse.com/?search=css%20variables\">CSS Variables (Custom Properties)</a></p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* variable.css */</span></span><br><span class=\"line\"><span class=\"comment\">/* 默认变量 */</span></span><br><span class=\"line\"><span class=\"selector-pseudo\">:root</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">--primary</span>: blue;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 亮色变量 */</span></span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;light&quot;</span>]</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">--primary</span>: green;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 深色变量 */</span></span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;dark&quot;</span>]</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">--primary</span>: red;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span> <span class=\"attr\">data-theme</span>=<span class=\"string\">&quot;default&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Css Variable<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;themeLink&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/css&quot;</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;./css/cssVariable/variable.css&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-tag\">p</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--primary);</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">  </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>默认主题为蓝色，light主题显示绿字，dark主题显示红字<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;changeTheme()&quot;</span>&gt;</span>切换主题<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> themeList = [<span class=\"string\">&#x27;default&#x27;</span>, <span class=\"string\">&#x27;light&#x27;</span>, <span class=\"string\">&#x27;dark&#x27;</span>];</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> currentThemeIndex = <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">changeTheme</span> () &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> htmlNode = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;html&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      currentThemeIndex++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">if</span> (currentThemeIndex &gt; themeList.<span class=\"property\">length</span> - <span class=\"number\">1</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        currentThemeIndex = <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      htmlNode.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;data-theme&#x27;</span>, themeList[currentThemeIndex]);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"css变量兼容方案\"><a href=\"#css变量兼容方案\" class=\"headerlink\" title=\"css变量兼容方案\"></a>css变量兼容方案</h3><p>首先需要建一个存放公共css变量的js文件，将需要定义的css变量存放到该js文件，例如（variable.js）</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//浅色</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> lightTheme = &#123; </span><br><span class=\"line\">  <span class=\"string\">&#x27;--primary&#x27;</span>: <span class=\"string\">&#x27;green&#x27;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// 深色</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> darkTheme = &#123; </span><br><span class=\"line\">  <span class=\"string\">&#x27;--primary&#x27;</span>: <span class=\"string\">&#x27;red&#x27;</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>页面使用css变量，例如：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;scss&quot;</span>&gt;</span><span class=\"language-css\"> </span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"selector-class\">.text</span> &#123; </span></span><br><span class=\"line\"><span class=\"language-css\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--primary);</span></span><br><span class=\"line\"><span class=\"language-css\">&#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>安装css-vars-ponyfill 插件</p>\n<p>「css-vars-ponyfill」 官方概念：在传统浏览器和现代浏览器中为CSS自定义属性(又名“CSS变量”)提供客户端支持的ponyfill。 （具体用法与概念请查阅官方网站：<a href=\"https://github.com/JofunLiang/vue-project-themable-demo\">css-vars-ponyfill</a>）</p>\n<p>封装切换主题的js，在main.js做初始化调用</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// theme.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; lightTheme, darkTheme &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../src/assets/js/variable&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> cssVars <span class=\"keyword\">from</span> <span class=\"string\">&quot;css-vars-ponyfill&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">initTheme</span> = (<span class=\"params\">theme</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&quot;data-theme&quot;</span>, theme ? <span class=\"string\">&quot;light&quot;</span> : <span class=\"string\">&quot;dark&quot;</span>); </span><br><span class=\"line\">  <span class=\"title function_\">cssVars</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">watch</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 当添加，删除或修改其&lt;link&gt;或&lt;style&gt;元素的禁用或href属性时，ponyfill将自行调用    </span></span><br><span class=\"line\">    <span class=\"attr\">variables</span>: theme ? lightTheme : darkTheme, <span class=\"comment\">// variables 自定义属性名/值对的集合</span></span><br><span class=\"line\">    <span class=\"attr\">onlyLegacy</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// false  默认将css变量编译为浏览器识别的css样式  true 当浏览器不支持css变量的时候将css变量编译为识别的css</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>特点</th>\n<th>兼容性</th>\n<th>推荐度</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>利用class 命名空间</td>\n<td>最简单的换肤方案</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>准备多套CSS主题</td>\n<td>最常用</td>\n<td></td>\n<td>推荐</td>\n</tr>\n<tr>\n<td>动态换肤</td>\n<td>支持浏览器热换肤，最酷炫</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>less在线编译实现</td>\n<td></td>\n<td></td>\n<td>不推荐</td>\n</tr>\n<tr>\n<td>CSS变量换肤</td>\n<td>不考虑IE，最佳换肤方式</td>\n<td>使用css-vars-ponyfill解决兼容性问题</td>\n<td>推荐</td>\n</tr>\n</tbody></table>\n<h2 id=\"利用class-命名空间\"><a href=\"#利用class-命名空间\" class=\"headerlink\" title=\"利用class 命名空间\"></a>利用class 命名空间</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"selector-class\">.red-theme</span> <span class=\"selector-tag\">p</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">  <span class=\"attribute\">color</span>: red</span></span><br><span class=\"line\"><span class=\"language-css\">&#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"selector-class\">.blue-theme</span> <span class=\"selector-tag\">p</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">  <span class=\"attribute\">color</span>: blue</span></span><br><span class=\"line\"><span class=\"language-css\">｝</span></span><br><span class=\"line\"><span class=\"language-css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;red-theme&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span> 这里是红色主题 <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"准备多套CSS主题\"><a href=\"#准备多套CSS主题\" class=\"headerlink\" title=\"准备多套CSS主题\"></a>准备多套CSS主题</h2><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*theme-default.css*/</span></span><br><span class=\"line\"><span class=\"selector-tag\">p</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#333</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* theme-red.css */</span></span><br><span class=\"line\"><span class=\"selector-tag\">p</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: #red</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>页面加载后，根据用户需求加载不同的样式列表</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;themeLink&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/css&quot;</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;./css/multipleTheme/light.css&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>light主题显示蓝字，dark主题显示红字<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;changeTheme()&quot;</span>&gt;</span>切换主题<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> currentTheme = <span class=\"string\">&#x27;light&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">getTheme</span> () &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">if</span> (currentTheme === <span class=\"string\">&#x27;light&#x27;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        currentTheme = <span class=\"string\">&#x27;dark&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        currentTheme = <span class=\"string\">&#x27;light&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> currentTheme;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">changeTheme</span> () &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> <span class=\"title class_\">ThemeMap</span> = &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"string\">&#x27;light&#x27;</span>: <span class=\"string\">&#x27;./css/multipleTheme/light.css&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"string\">&#x27;dark&#x27;</span>: <span class=\"string\">&#x27;./css/multipleTheme/dark.css&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> themeLink = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;#themeLink&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      themeLink.<span class=\"property\">href</span> = <span class=\"title class_\">ThemeMap</span>[<span class=\"title function_\">getTheme</span>()];</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>有时候需要保存用户使用的主题，可以通过如下方式：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">利用路由标记</span><br><span class=\"line\">利用cookie标记</span><br><span class=\"line\">利用localstorage</span><br><span class=\"line\">保存到后端服务器</span><br></pre></td></tr></table></figure>\n\n<p>优化点：<br>利用CSS预处理生成多套主题样式</p>\n<h2 id=\"动态换肤\"><a href=\"#动态换肤\" class=\"headerlink\" title=\"动态换肤\"></a>动态换肤</h2><p>这是element ui中的换肤方案，支持浏览器热换肤。生成一套主题， 将主题配色配置写在js中，在浏览器中用js动态修改style标签覆盖原有的CSS。</p>\n<ol>\n<li>先把默认主题文件中涉及到颜色的 CSS 值替换成关键词</li>\n<li>根据用户选择的主题色生成一系列对应的颜色值</li>\n<li>把关键词再换回刚刚生成的相应的颜色值</li>\n<li>直接在页面上加 style 标签，把生成的样式填进去</li>\n</ol>\n<h3 id=\"先把默认主题文件中涉及到颜色的-CSS-值替换成关键词\"><a href=\"#先把默认主题文件中涉及到颜色的-CSS-值替换成关键词\" class=\"headerlink\" title=\"先把默认主题文件中涉及到颜色的 CSS 值替换成关键词\"></a>先把默认主题文件中涉及到颜色的 CSS 值替换成关键词</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// https://github.com/ElementUI/theme-preview/blob/master/src/app.vue#L250-L274</span></span><br><span class=\"line\"><span class=\"title function_\">getStyleTemplate</span>(<span class=\"params\">data</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> colorMap = &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;#20a0ff&#x27;</span>: <span class=\"string\">&#x27;primary&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#0190fe&#x27;</span>: <span class=\"string\">&#x27;secondary&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#fbfdff&#x27;</span>: <span class=\"string\">&#x27;darkWhite&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#1f2d3d&#x27;</span>: <span class=\"string\">&#x27;baseBlack&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#324157&#x27;</span>: <span class=\"string\">&#x27;lightBlack&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#48576a&#x27;</span>: <span class=\"string\">&#x27;extraLightBlack&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#8391a5&#x27;</span>: <span class=\"string\">&#x27;baseSilver&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#97a8be&#x27;</span>: <span class=\"string\">&#x27;lightSilver&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#bfcbd9&#x27;</span>: <span class=\"string\">&#x27;extraLightSilver&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#d1dbe5&#x27;</span>: <span class=\"string\">&#x27;baseGray&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#e4e8f1&#x27;</span>: <span class=\"string\">&#x27;lightGray&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#eef1f6&#x27;</span>: <span class=\"string\">&#x27;extraLightGray&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#1d90e6&#x27;</span>: <span class=\"string\">&#x27;buttonActive&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#4db3ff&#x27;</span>: <span class=\"string\">&#x27;buttonHover&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#dfe6ec&#x27;</span>: <span class=\"string\">&#x27;tableBorder&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#d2ecff&#x27;</span>: <span class=\"string\">&#x27;datepickerInRange&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#afddff&#x27;</span>: <span class=\"string\">&#x27;datepickerInRangeHover&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#1c8de0&#x27;</span>: <span class=\"string\">&#x27;selectOptionSelected&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;#edf7ff&#x27;</span>: <span class=\"string\">&#x27;lightBackground&#x27;</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(colorMap).<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> value = colorMap[key];</span><br><span class=\"line\">    data = data.<span class=\"title function_\">replace</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(key, <span class=\"string\">&#x27;ig&#x27;</span>), value);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> data;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"根据用户选择的主题色生成一系列对应的颜色值\"><a href=\"#根据用户选择的主题色生成一系列对应的颜色值\" class=\"headerlink\" title=\"根据用户选择的主题色生成一系列对应的颜色值\"></a>根据用户选择的主题色生成一系列对应的颜色值</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// https://github.com/ElementUI/theme-preview/blob/master/src/utils/formula.json</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;secondary&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary s(99%) l(*0.9))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">&quot;darkWhite&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(#fff blend(primary 2%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">&quot;baseBlack&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary h(+6) s(33%) l(18%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;lightBlack&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack h(+5) s(27%) l(27%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;extraLightBlack&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack h(+2) s(19%) l(35%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;baseSilver&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack h(+3) s(16%) l(58%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;lightSilver&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack h(+3) s(23%) l(67%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;extraLightSilver&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack s(26%) l(80%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;baseGray&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack s(28%) l(86%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;lightGray&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack h(+10) s(33%) l(92%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;extraLightGray&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(baseBlack h(+6) s(33%) l(95%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">&quot;buttonActive&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary shade(10%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;buttonHover&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary tint(20%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">&quot;tableBorder&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(extraLightSilver h(-3) s(27%) l(90%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">&quot;datepickerInRange&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary tint(80%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;datepickerInRangeHover&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary tint(64%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">&quot;selectOptionSelected&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary shade(12%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">&quot;lightBackground&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary tint(92%))&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;emptyText&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;color(primary s(16%) l(44%))&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"把关键词再换回刚刚生成的相应的颜色值\"><a href=\"#把关键词再换回刚刚生成的相应的颜色值\" class=\"headerlink\" title=\"把关键词再换回刚刚生成的相应的颜色值\"></a>把关键词再换回刚刚生成的相应的颜色值</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// https://github.com/ElementUI/theme-preview/blob/master/src/utils/color.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> color <span class=\"keyword\">from</span> <span class=\"string\">&#x27;css-color-function&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> formula <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./formula.json&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">generateColors</span> = primary =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> colors = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> baseBlack = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> extraLightBlack = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> extraLightSilver = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(formula).<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> value = formula[key]</span><br><span class=\"line\">      .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/primary/g</span>, primary)</span><br><span class=\"line\">      .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/baseBlack/g</span>, baseBlack)</span><br><span class=\"line\">      .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/extraLightBlack/g</span>, extraLightBlack)</span><br><span class=\"line\">      .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/extraLightSilver/g</span>, extraLightSilver);</span><br><span class=\"line\">    colors[key] = color.<span class=\"title function_\">convert</span>(value);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key === <span class=\"string\">&#x27;baseBlack&#x27;</span>) &#123;</span><br><span class=\"line\">      baseBlack = colors[key];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key === <span class=\"string\">&#x27;extraLightBlack&#x27;</span>) &#123;</span><br><span class=\"line\">      extraLightBlack = colors[key];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key === <span class=\"string\">&#x27;extraLightSilver&#x27;</span>) &#123;</span><br><span class=\"line\">      extraLightSilver = colors[key];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> colors;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> generateColors;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"直接在页面上加-style-标签，把生成的样式填进去\"><a href=\"#直接在页面上加-style-标签，把生成的样式填进去\" class=\"headerlink\" title=\"直接在页面上加 style 标签，把生成的样式填进去\"></a>直接在页面上加 style 标签，把生成的样式填进去</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// https://github.com/ElementUI/theme-preview/blob/master/src/app.vue#L198-L211</span></span><br><span class=\"line\"><span class=\"title function_\">writeNewStyle</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> cssText = <span class=\"variable language_\">this</span>.<span class=\"property\">originalStyle</span>;</span><br><span class=\"line\">  <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">colors</span>).<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> &#123;</span><br><span class=\"line\">    cssText = cssText.<span class=\"title function_\">replace</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&#x27;(:|\\\\s+)&#x27;</span> + key, <span class=\"string\">&#x27;g&#x27;</span>), <span class=\"string\">&#x27;$1&#x27;</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">colors</span>[key]);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">originalStylesheetCount</span> === <span class=\"variable language_\">document</span>.<span class=\"property\">styleSheets</span>.<span class=\"property\">length</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> style = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;style&#x27;</span>);</span><br><span class=\"line\">    style.<span class=\"property\">innerText</span> = cssText;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"property\">head</span>.<span class=\"title function_\">appendChild</span>(style);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"property\">head</span>.<span class=\"property\">lastChild</span>.<span class=\"property\">innerText</span> = cssText;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"less在线编译实现\"><a href=\"#less在线编译实现\" class=\"headerlink\" title=\"less在线编译实现\"></a>less在线编译实现</h2><p>不推荐</p>\n<h2 id=\"CSS变量实现\"><a href=\"#CSS变量实现\" class=\"headerlink\" title=\"CSS变量实现\"></a>CSS变量实现</h2><p><a href=\"https://caniuse.com/?search=css%20variables\">CSS Variables (Custom Properties)</a></p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* variable.css */</span></span><br><span class=\"line\"><span class=\"comment\">/* 默认变量 */</span></span><br><span class=\"line\"><span class=\"selector-pseudo\">:root</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">--primary</span>: blue;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 亮色变量 */</span></span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;light&quot;</span>]</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">--primary</span>: green;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 深色变量 */</span></span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;dark&quot;</span>]</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">--primary</span>: red;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span> <span class=\"attr\">data-theme</span>=<span class=\"string\">&quot;default&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Css Variable<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;themeLink&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/css&quot;</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;./css/cssVariable/variable.css&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-tag\">p</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--primary);</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">  </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>默认主题为蓝色，light主题显示绿字，dark主题显示红字<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;changeTheme()&quot;</span>&gt;</span>切换主题<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> themeList = [<span class=\"string\">&#x27;default&#x27;</span>, <span class=\"string\">&#x27;light&#x27;</span>, <span class=\"string\">&#x27;dark&#x27;</span>];</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> currentThemeIndex = <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">changeTheme</span> () &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> htmlNode = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;html&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      currentThemeIndex++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">if</span> (currentThemeIndex &gt; themeList.<span class=\"property\">length</span> - <span class=\"number\">1</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        currentThemeIndex = <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      htmlNode.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;data-theme&#x27;</span>, themeList[currentThemeIndex]);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"css变量兼容方案\"><a href=\"#css变量兼容方案\" class=\"headerlink\" title=\"css变量兼容方案\"></a>css变量兼容方案</h3><p>首先需要建一个存放公共css变量的js文件，将需要定义的css变量存放到该js文件，例如（variable.js）</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//浅色</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> lightTheme = &#123; </span><br><span class=\"line\">  <span class=\"string\">&#x27;--primary&#x27;</span>: <span class=\"string\">&#x27;green&#x27;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// 深色</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> darkTheme = &#123; </span><br><span class=\"line\">  <span class=\"string\">&#x27;--primary&#x27;</span>: <span class=\"string\">&#x27;red&#x27;</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>页面使用css变量，例如：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;scss&quot;</span>&gt;</span><span class=\"language-css\"> </span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"selector-class\">.text</span> &#123; </span></span><br><span class=\"line\"><span class=\"language-css\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--primary);</span></span><br><span class=\"line\"><span class=\"language-css\">&#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>安装css-vars-ponyfill 插件</p>\n<p>「css-vars-ponyfill」 官方概念：在传统浏览器和现代浏览器中为CSS自定义属性(又名“CSS变量”)提供客户端支持的ponyfill。 （具体用法与概念请查阅官方网站：<a href=\"https://github.com/JofunLiang/vue-project-themable-demo\">css-vars-ponyfill</a>）</p>\n<p>封装切换主题的js，在main.js做初始化调用</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// theme.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; lightTheme, darkTheme &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../src/assets/js/variable&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> cssVars <span class=\"keyword\">from</span> <span class=\"string\">&quot;css-vars-ponyfill&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">initTheme</span> = (<span class=\"params\">theme</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&quot;data-theme&quot;</span>, theme ? <span class=\"string\">&quot;light&quot;</span> : <span class=\"string\">&quot;dark&quot;</span>); </span><br><span class=\"line\">  <span class=\"title function_\">cssVars</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">watch</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 当添加，删除或修改其&lt;link&gt;或&lt;style&gt;元素的禁用或href属性时，ponyfill将自行调用    </span></span><br><span class=\"line\">    <span class=\"attr\">variables</span>: theme ? lightTheme : darkTheme, <span class=\"comment\">// variables 自定义属性名/值对的集合</span></span><br><span class=\"line\">    <span class=\"attr\">onlyLegacy</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// false  默认将css变量编译为浏览器识别的css样式  true 当浏览器不支持css变量的时候将css变量编译为识别的css</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n"},{"title":"【实现API】数组reduce方法的实现","_content":"[MDN-Array.prototype.reduce](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce)\n\n##\t介绍\n\nreduce() 方法对数组中的每个元素按序执行一个由您提供的 reducer 函数，每一次运行 reducer 会将先前元素的计算结果作为参数传入，最后将其结果汇总为单个返回值。\n\n第一次执行回调函数时，不存在“上一次的计算结果”。如果需要回调函数从数组索引为 0 的元素开始执行，则需要传递初始值。否则，数组索引为 0 的元素将被作为初始值 initialValue，迭代器将从第二个元素开始执行（索引为 1 而不是 0）。\n\n##\t用法\n\n```js\nconst array1 = [1, 2, 3, 4];\n\n// 0 + 1 + 2 + 3 + 4\nconst initialValue = 0;\nconst sumWithInitial = array1.reduce(\n  (previousValue, currentValue) => previousValue + currentValue,\n  initialValue\n);\n\nconsole.log(sumWithInitial);\n// expected output: 10\n```\n\n##\t实现\n\n```js\nArray.prototype.reduceFn = function (reducer/*, initValue*/) {\n  // reducer必须是一个函数\n  if (typeof reducer !== 'function') {\n    throw new TypeError(`${reducer} is not a function.`);\n  }\n  // 是否包含初始值\n  const hasInitValue = arguments.length > 1;\n  // 当前遍历的数组\n  const array = Object(this);\n  const length = array.length;\n  // 数组长度要大于0或包含初始值\n  if (length === 0 && !hasInitValue) {\n    throw new TypeError('Reduce of empty array with no initial value');\n  }\n  // 上一次调用 reducer 时的返回值, 此处为初始值赋值\n  let previousValue = hasInitValue ? arguments[1] : array[0];\n  // 数组中正在处理的元素的索引\n  let currentIndex = hasInitValue ? 0 : 1;\n  while (currentIndex < length) {\n    previousValue = reducer(previousValue, array[currentIndex], currentIndex, array);\n    currentIndex ++;\n  }\n  return previousValue;\n};\n\n// test\n[1, 2, 3, 4, 5].reduceFn((prev, cur) => prev + cur); // 15\n[1, 2, 3, 4, 5].reduceFn((prev, cur) => prev + cur, 10); // 25\n```","source":"_posts/reduce.md","raw":"---\ntitle: 【实现API】数组reduce方法的实现\n---\n[MDN-Array.prototype.reduce](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce)\n\n##\t介绍\n\nreduce() 方法对数组中的每个元素按序执行一个由您提供的 reducer 函数，每一次运行 reducer 会将先前元素的计算结果作为参数传入，最后将其结果汇总为单个返回值。\n\n第一次执行回调函数时，不存在“上一次的计算结果”。如果需要回调函数从数组索引为 0 的元素开始执行，则需要传递初始值。否则，数组索引为 0 的元素将被作为初始值 initialValue，迭代器将从第二个元素开始执行（索引为 1 而不是 0）。\n\n##\t用法\n\n```js\nconst array1 = [1, 2, 3, 4];\n\n// 0 + 1 + 2 + 3 + 4\nconst initialValue = 0;\nconst sumWithInitial = array1.reduce(\n  (previousValue, currentValue) => previousValue + currentValue,\n  initialValue\n);\n\nconsole.log(sumWithInitial);\n// expected output: 10\n```\n\n##\t实现\n\n```js\nArray.prototype.reduceFn = function (reducer/*, initValue*/) {\n  // reducer必须是一个函数\n  if (typeof reducer !== 'function') {\n    throw new TypeError(`${reducer} is not a function.`);\n  }\n  // 是否包含初始值\n  const hasInitValue = arguments.length > 1;\n  // 当前遍历的数组\n  const array = Object(this);\n  const length = array.length;\n  // 数组长度要大于0或包含初始值\n  if (length === 0 && !hasInitValue) {\n    throw new TypeError('Reduce of empty array with no initial value');\n  }\n  // 上一次调用 reducer 时的返回值, 此处为初始值赋值\n  let previousValue = hasInitValue ? arguments[1] : array[0];\n  // 数组中正在处理的元素的索引\n  let currentIndex = hasInitValue ? 0 : 1;\n  while (currentIndex < length) {\n    previousValue = reducer(previousValue, array[currentIndex], currentIndex, array);\n    currentIndex ++;\n  }\n  return previousValue;\n};\n\n// test\n[1, 2, 3, 4, 5].reduceFn((prev, cur) => prev + cur); // 15\n[1, 2, 3, 4, 5].reduceFn((prev, cur) => prev + cur, 10); // 25\n```","slug":"reduce","published":1,"date":"2022-09-14T03:12:24.030Z","updated":"2022-09-14T03:12:24.032Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl811yy5e0004h8w114765i8e","content":"<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\">MDN-Array.prototype.reduce</a></p>\n<h2 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h2><p>reduce() 方法对数组中的每个元素按序执行一个由您提供的 reducer 函数，每一次运行 reducer 会将先前元素的计算结果作为参数传入，最后将其结果汇总为单个返回值。</p>\n<p>第一次执行回调函数时，不存在“上一次的计算结果”。如果需要回调函数从数组索引为 0 的元素开始执行，则需要传递初始值。否则，数组索引为 0 的元素将被作为初始值 initialValue，迭代器将从第二个元素开始执行（索引为 1 而不是 0）。</p>\n<h2 id=\"用法\"><a href=\"#用法\" class=\"headerlink\" title=\"用法\"></a>用法</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> array1 = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 0 + 1 + 2 + 3 + 4</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> initialValue = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> sumWithInitial = array1.<span class=\"title function_\">reduce</span>(</span><br><span class=\"line\">  <span class=\"function\">(<span class=\"params\">previousValue, currentValue</span>) =&gt;</span> previousValue + currentValue,</span><br><span class=\"line\">  initialValue</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(sumWithInitial);</span><br><span class=\"line\"><span class=\"comment\">// expected output: 10</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Array</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">reduceFn</span> = <span class=\"keyword\">function</span> (<span class=\"params\">reducer<span class=\"comment\">/*, initValue*/</span></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// reducer必须是一个函数</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> reducer !== <span class=\"string\">&#x27;function&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TypeError</span>(<span class=\"string\">`<span class=\"subst\">$&#123;reducer&#125;</span> is not a function.`</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 是否包含初始值</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> hasInitValue = <span class=\"variable language_\">arguments</span>.<span class=\"property\">length</span> &gt; <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"comment\">// 当前遍历的数组</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> array = <span class=\"title class_\">Object</span>(<span class=\"variable language_\">this</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> length = array.<span class=\"property\">length</span>;</span><br><span class=\"line\">  <span class=\"comment\">// 数组长度要大于0或包含初始值</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (length === <span class=\"number\">0</span> &amp;&amp; !hasInitValue) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TypeError</span>(<span class=\"string\">&#x27;Reduce of empty array with no initial value&#x27;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 上一次调用 reducer 时的返回值, 此处为初始值赋值</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> previousValue = hasInitValue ? <span class=\"variable language_\">arguments</span>[<span class=\"number\">1</span>] : array[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"comment\">// 数组中正在处理的元素的索引</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> currentIndex = hasInitValue ? <span class=\"number\">0</span> : <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (currentIndex &lt; length) &#123;</span><br><span class=\"line\">    previousValue = <span class=\"title function_\">reducer</span>(previousValue, array[currentIndex], currentIndex, array);</span><br><span class=\"line\">    currentIndex ++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> previousValue;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// test</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>].<span class=\"title function_\">reduceFn</span>(<span class=\"function\">(<span class=\"params\">prev, cur</span>) =&gt;</span> prev + cur); <span class=\"comment\">// 15</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>].<span class=\"title function_\">reduceFn</span>(<span class=\"function\">(<span class=\"params\">prev, cur</span>) =&gt;</span> prev + cur, <span class=\"number\">10</span>); <span class=\"comment\">// 25</span></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\">MDN-Array.prototype.reduce</a></p>\n<h2 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h2><p>reduce() 方法对数组中的每个元素按序执行一个由您提供的 reducer 函数，每一次运行 reducer 会将先前元素的计算结果作为参数传入，最后将其结果汇总为单个返回值。</p>\n<p>第一次执行回调函数时，不存在“上一次的计算结果”。如果需要回调函数从数组索引为 0 的元素开始执行，则需要传递初始值。否则，数组索引为 0 的元素将被作为初始值 initialValue，迭代器将从第二个元素开始执行（索引为 1 而不是 0）。</p>\n<h2 id=\"用法\"><a href=\"#用法\" class=\"headerlink\" title=\"用法\"></a>用法</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> array1 = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 0 + 1 + 2 + 3 + 4</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> initialValue = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> sumWithInitial = array1.<span class=\"title function_\">reduce</span>(</span><br><span class=\"line\">  <span class=\"function\">(<span class=\"params\">previousValue, currentValue</span>) =&gt;</span> previousValue + currentValue,</span><br><span class=\"line\">  initialValue</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(sumWithInitial);</span><br><span class=\"line\"><span class=\"comment\">// expected output: 10</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Array</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">reduceFn</span> = <span class=\"keyword\">function</span> (<span class=\"params\">reducer<span class=\"comment\">/*, initValue*/</span></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// reducer必须是一个函数</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> reducer !== <span class=\"string\">&#x27;function&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TypeError</span>(<span class=\"string\">`<span class=\"subst\">$&#123;reducer&#125;</span> is not a function.`</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 是否包含初始值</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> hasInitValue = <span class=\"variable language_\">arguments</span>.<span class=\"property\">length</span> &gt; <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"comment\">// 当前遍历的数组</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> array = <span class=\"title class_\">Object</span>(<span class=\"variable language_\">this</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> length = array.<span class=\"property\">length</span>;</span><br><span class=\"line\">  <span class=\"comment\">// 数组长度要大于0或包含初始值</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (length === <span class=\"number\">0</span> &amp;&amp; !hasInitValue) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TypeError</span>(<span class=\"string\">&#x27;Reduce of empty array with no initial value&#x27;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 上一次调用 reducer 时的返回值, 此处为初始值赋值</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> previousValue = hasInitValue ? <span class=\"variable language_\">arguments</span>[<span class=\"number\">1</span>] : array[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"comment\">// 数组中正在处理的元素的索引</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> currentIndex = hasInitValue ? <span class=\"number\">0</span> : <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (currentIndex &lt; length) &#123;</span><br><span class=\"line\">    previousValue = <span class=\"title function_\">reducer</span>(previousValue, array[currentIndex], currentIndex, array);</span><br><span class=\"line\">    currentIndex ++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> previousValue;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// test</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>].<span class=\"title function_\">reduceFn</span>(<span class=\"function\">(<span class=\"params\">prev, cur</span>) =&gt;</span> prev + cur); <span class=\"comment\">// 15</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>].<span class=\"title function_\">reduceFn</span>(<span class=\"function\">(<span class=\"params\">prev, cur</span>) =&gt;</span> prev + cur, <span class=\"number\">10</span>); <span class=\"comment\">// 25</span></span><br></pre></td></tr></table></figure>"}],"PostAsset":[],"PostCategory":[],"PostTag":[],"Tag":[]}}